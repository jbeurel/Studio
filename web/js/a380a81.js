(function(d){var c=function(F,E){var D=d.extend({},d.fn.nivoSlider.defaults,E);var C={currentSlide:0,currentImage:"",totalSlides:0,running:false,paused:false,stop:false};var B=d(F);B.data("nivo:vars",C);B.css("position","relative");B.addClass("nivoSlider");var A=B.children();A.each(function(){var e=d(this);var i="";if(!e.is("img")){if(e.is("a")){e.addClass("nivo-imageLink");i=e}e=e.find("img:first")}var h=e.width();if(h==0){h=e.attr("width")}var f=e.height();if(f==0){f=e.attr("height")}if(h>B.width()){B.width(h)}if(f>B.height()){B.height(f)}if(i!=""){i.css("display","none")}e.css("display","none");C.totalSlides++});if(D.randomStart){D.startSlide=Math.floor(Math.random()*C.totalSlides)}if(D.startSlide>0){if(D.startSlide>=C.totalSlides){D.startSlide=C.totalSlides-1}C.currentSlide=D.startSlide}if(d(A[C.currentSlide]).is("img")){C.currentImage=d(A[C.currentSlide])}else{C.currentImage=d(A[C.currentSlide]).find("img:first")}if(d(A[C.currentSlide]).is("a")){d(A[C.currentSlide]).css("display","block")}B.css("background",'url("'+C.currentImage.attr("src")+'") no-repeat');B.append(d('<div class="nivo-caption"><p></p></div>').css({display:"none",opacity:D.captionOpacity}));d(".nivo-caption",B).css("opacity",0);var z=function(e){var g=d(".nivo-caption",B);if(C.currentImage.attr("title")!=""&&C.currentImage.attr("title")!=undefined){var f=C.currentImage.attr("title");if(f.substr(0,1)=="#"){f=d(f).html()}if(g.css("opacity")!=0){g.find("p").stop().fadeTo(e.animSpeed,0,function(){d(this).html(f);d(this).stop().fadeTo(e.animSpeed,1)})}else{g.find("p").html(f)}g.stop().fadeTo(e.animSpeed,e.captionOpacity)}else{g.stop().fadeTo(e.animSpeed,0)}};z(D);var y=0;if(!D.manualAdvance&&A.length>1){y=setInterval(function(){s(B,A,D,false)},D.pauseTime)}if(D.directionNav){B.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+D.prevText+'</a><a class="nivo-nextNav">'+D.nextText+"</a></div>");if(D.directionNavHide){d(".nivo-directionNav",B).hide();B.hover(function(){d(".nivo-directionNav",B).show()},function(){d(".nivo-directionNav",B).hide()})}d("a.nivo-prevNav",B).live("click",function(){if(C.running){return false}clearInterval(y);y="";C.currentSlide-=2;s(B,A,D,"prev")});d("a.nivo-nextNav",B).live("click",function(){if(C.running){return false}clearInterval(y);y="";s(B,A,D,"next")})}if(D.controlNav){var x=d('<div class="nivo-controlNav"></div>');B.append(x);for(var w=0;w<A.length;w++){if(D.controlNavThumbs){var v=A.eq(w);if(!v.is("img")){v=v.find("img:first")}if(D.controlNavThumbsFromRel){x.append('<a class="nivo-control" rel="'+w+'"><img src="'+v.attr("rel")+'" alt="" /></a>')}else{x.append('<a class="nivo-control" rel="'+w+'"><img src="'+v.attr("src").replace(D.controlNavThumbsSearch,D.controlNavThumbsReplace)+'" alt="" /></a>')}}else{x.append('<a class="nivo-control" rel="'+w+'">'+(w+1)+"</a>")}}d(".nivo-controlNav a:eq("+C.currentSlide+")",B).addClass("active");d(".nivo-controlNav a",B).live("click",function(){if(C.running){return false}if(d(this).hasClass("active")){return false}clearInterval(y);y="";B.css("background",'url("'+C.currentImage.attr("src")+'") no-repeat');C.currentSlide=d(this).attr("rel")-1;s(B,A,D,"control")})}if(D.keyboardNav){d(window).keypress(function(b){if(b.keyCode=="37"){if(C.running){return false}clearInterval(y);y="";C.currentSlide-=2;s(B,A,D,"prev")}if(b.keyCode=="39"){if(C.running){return false}clearInterval(y);y="";s(B,A,D,"next")}})}if(D.pauseOnHover){B.hover(function(){C.paused=true;clearInterval(y);y=""},function(){C.paused=false;if(y==""&&!D.manualAdvance){y=setInterval(function(){s(B,A,D,false)},D.pauseTime)}})}B.bind("nivo:animFinished",function(){C.running=false;d(A).each(function(){if(d(this).is("a")){d(this).css("display","none")}});if(d(A[C.currentSlide]).is("a")){d(A[C.currentSlide]).css("display","block")}if(y==""&&!C.paused&&!D.manualAdvance){y=setInterval(function(){s(B,A,D,false)},D.pauseTime)}D.afterChange.call(this)});var u=function(g,k,j){for(var i=0;i<k.slices;i++){var h=Math.round(g.width()/k.slices);if(i==k.slices-1){g.append(d('<div class="nivo-slice"></div>').css({left:h*i+"px",width:g.width()-h*i+"px",height:"0px",opacity:"0",background:'url("'+j.currentImage.attr("src")+'") no-repeat -'+(h+i*h-h)+"px 0%"}))}else{g.append(d('<div class="nivo-slice"></div>').css({left:h*i+"px",width:h+"px",height:"0px",opacity:"0",background:'url("'+j.currentImage.attr("src")+'") no-repeat -'+(h+i*h-h)+"px 0%"}))}}};var t=function(i,o,n){var m=Math.round(i.width()/o.boxCols);var l=Math.round(i.height()/o.boxRows);for(var k=0;k<o.boxRows;k++){for(var j=0;j<o.boxCols;j++){if(j==o.boxCols-1){i.append(d('<div class="nivo-box"></div>').css({opacity:0,left:m*j+"px",top:l*k+"px",width:i.width()-m*j+"px",height:l+"px",background:'url("'+n.currentImage.attr("src")+'") no-repeat -'+(m+j*m-m)+"px -"+(l+k*l-l)+"px"}))}else{i.append(d('<div class="nivo-box"></div>').css({opacity:0,left:m*j+"px",top:l*k+"px",width:m+"px",height:l+"px",background:'url("'+n.currentImage.attr("src")+'") no-repeat -'+(m+j*m-m)+"px -"+(l+k*l-l)+"px"}))}}}};var s=function(V,U,T,S){var R=V.data("nivo:vars");if(R&&R.currentSlide==R.totalSlides-1){T.lastSlide.call(this)}if((!R||R.stop)&&!S){return false}T.beforeChange.call(this);if(!S){V.css("background",'url("'+R.currentImage.attr("src")+'") no-repeat')}else{if(S=="prev"){V.css("background",'url("'+R.currentImage.attr("src")+'") no-repeat')}if(S=="next"){V.css("background",'url("'+R.currentImage.attr("src")+'") no-repeat')}}R.currentSlide++;if(R.currentSlide==R.totalSlides){R.currentSlide=0;T.slideshowEnd.call(this)}if(R.currentSlide<0){R.currentSlide=R.totalSlides-1}if(d(U[R.currentSlide]).is("img")){R.currentImage=d(U[R.currentSlide])}else{R.currentImage=d(U[R.currentSlide]).find("img:first")}if(T.controlNav){d(".nivo-controlNav a",V).removeClass("active");d(".nivo-controlNav a:eq("+R.currentSlide+")",V).addClass("active")}z(T);d(".nivo-slice",V).remove();d(".nivo-box",V).remove();var Q=T.effect;if(T.effect=="random"){var P=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse");Q=P[Math.floor(Math.random()*(P.length+1))];if(Q==undefined){Q="fade"}}if(T.effect.indexOf(",")!=-1){var P=T.effect.split(",");Q=P[Math.floor(Math.random()*P.length)];if(Q==undefined){Q="fade"}}if(R.currentImage.attr("data-transition")){Q=R.currentImage.attr("data-transition")}R.running=true;if(Q=="sliceDown"||Q=="sliceDownRight"||Q=="sliceDownLeft"){u(V,T,R);var O=0;var N=0;var M=d(".nivo-slice",V);if(Q=="sliceDownLeft"){M=d(".nivo-slice",V)._reverse()}M.each(function(){var b=d(this);b.css({top:"0px"});if(N==T.slices-1){setTimeout(function(){b.animate({height:"100%",opacity:"1.0"},T.animSpeed,"",function(){V.trigger("nivo:animFinished")})},100+O)}else{setTimeout(function(){b.animate({height:"100%",opacity:"1.0"},T.animSpeed)},100+O)}O+=50;N++})}else{if(Q=="sliceUp"||Q=="sliceUpRight"||Q=="sliceUpLeft"){u(V,T,R);var O=0;var N=0;var M=d(".nivo-slice",V);if(Q=="sliceUpLeft"){M=d(".nivo-slice",V)._reverse()}M.each(function(){var b=d(this);b.css({bottom:"0px"});if(N==T.slices-1){setTimeout(function(){b.animate({height:"100%",opacity:"1.0"},T.animSpeed,"",function(){V.trigger("nivo:animFinished")})},100+O)}else{setTimeout(function(){b.animate({height:"100%",opacity:"1.0"},T.animSpeed)},100+O)}O+=50;N++})}else{if(Q=="sliceUpDown"||Q=="sliceUpDownRight"||Q=="sliceUpDownLeft"){u(V,T,R);var O=0;var N=0;var L=0;var M=d(".nivo-slice",V);if(Q=="sliceUpDownLeft"){M=d(".nivo-slice",V)._reverse()}M.each(function(){var b=d(this);if(N==0){b.css("top","0px");N++}else{b.css("bottom","0px");N=0}if(L==T.slices-1){setTimeout(function(){b.animate({height:"100%",opacity:"1.0"},T.animSpeed,"",function(){V.trigger("nivo:animFinished")})},100+O)}else{setTimeout(function(){b.animate({height:"100%",opacity:"1.0"},T.animSpeed)},100+O)}O+=50;L++})}else{if(Q=="fold"){u(V,T,R);var O=0;var N=0;d(".nivo-slice",V).each(function(){var f=d(this);var b=f.width();f.css({top:"0px",height:"100%",width:"0px"});if(N==T.slices-1){setTimeout(function(){f.animate({width:b,opacity:"1.0"},T.animSpeed,"",function(){V.trigger("nivo:animFinished")})},100+O)}else{setTimeout(function(){f.animate({width:b,opacity:"1.0"},T.animSpeed)},100+O)}O+=50;N++})}else{if(Q=="fade"){u(V,T,R);var K=d(".nivo-slice:first",V);K.css({height:"100%",width:V.width()+"px"});K.animate({opacity:"1.0"},T.animSpeed*2,"",function(){V.trigger("nivo:animFinished")})}else{if(Q=="slideInRight"){u(V,T,R);var K=d(".nivo-slice:first",V);K.css({height:"100%",width:"0px",opacity:"1"});K.animate({width:V.width()+"px"},T.animSpeed*2,"",function(){V.trigger("nivo:animFinished")})}else{if(Q=="slideInLeft"){u(V,T,R);var K=d(".nivo-slice:first",V);K.css({height:"100%",width:"0px",opacity:"1",left:"",right:"0px"});K.animate({width:V.width()+"px"},T.animSpeed*2,"",function(){K.css({left:"0px",right:""});V.trigger("nivo:animFinished")})}else{if(Q=="boxRandom"){t(V,T,R);var J=T.boxCols*T.boxRows;var N=0;var O=0;var I=r(d(".nivo-box",V));I.each(function(){var b=d(this);if(N==J-1){setTimeout(function(){b.animate({opacity:"1"},T.animSpeed,"",function(){V.trigger("nivo:animFinished")})},100+O)}else{setTimeout(function(){b.animate({opacity:"1"},T.animSpeed)},100+O)}O+=20;N++})}else{if(Q=="boxRain"||Q=="boxRainReverse"||Q=="boxRainGrow"||Q=="boxRainGrowReverse"){t(V,T,R);var J=T.boxCols*T.boxRows;var N=0;var O=0;var H=0;var G=0;var p=new Array;p[H]=new Array;var I=d(".nivo-box",V);if(Q=="boxRainReverse"||Q=="boxRainGrowReverse"){I=d(".nivo-box",V)._reverse()}I.each(function(){p[H][G]=d(this);G++;if(G==T.boxCols){H++;G=0;p[H]=new Array}});for(var n=0;n<T.boxCols*2;n++){var m=n;for(var h=0;h<T.boxRows;h++){if(m>=0&&m<T.boxCols){(function(Z,Y,X,W,q){var o=d(p[Z][Y]);var g=o.width();var b=o.height();if(Q=="boxRainGrow"||Q=="boxRainGrowReverse"){o.width(0).height(0)}if(W==q-1){setTimeout(function(){o.animate({opacity:"1",width:g,height:b},T.animSpeed/1.3,"",function(){V.trigger("nivo:animFinished")})},100+X)}else{setTimeout(function(){o.animate({opacity:"1",width:g,height:b},T.animSpeed/1.3)},100+X)}})(h,m,O,N,J);N++}m--}O+=100}}}}}}}}}}};var r=function(f){for(var e,h,g=f.length;g;e=parseInt(Math.random()*g),h=f[--g],f[g]=f[e],f[e]=h){}return f};var a=function(b){if(this.console&&typeof console.log!="undefined"){console.log(b)}};this.stop=function(){if(!d(F).data("nivo:vars").stop){d(F).data("nivo:vars").stop=true;a("Stop Slider")}};this.start=function(){if(d(F).data("nivo:vars").stop){d(F).data("nivo:vars").stop=false;a("Start Slider")}};D.afterLoad.call(this);return this};d.fn.nivoSlider=function(a){return this.each(function(j,i){var h=d(this);if(h.data("nivoslider")){return h.data("nivoslider")}var b=new c(this,a);h.data("nivoslider",b)})};d.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3000,startSlide:0,directionNav:true,directionNavHide:true,controlNav:true,controlNavThumbs:false,controlNavThumbsFromRel:false,controlNavThumbsSearch:".jpg",controlNavThumbsReplace:"_thumb.jpg",keyboardNav:true,pauseOnHover:true,manualAdvance:false,captionOpacity:0.8,prevText:"Prev",nextText:"Next",randomStart:false,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}};d.fn._reverse=[].reverse})(jQuery);
!function(b){var c=b(window);function a(e,d){var f=b.proxy(this.processScroll,this);this.$topbar=b(e);this.selector=d||"li > a";this.refresh();this.$topbar.delegate(this.selector,"click",f);c.scroll(f);this.processScroll()}a.prototype={refresh:function(){this.targets=this.$topbar.find(this.selector).map(function(){var d=b(this).attr("href");return/^#\w/.test(d)&&b(d).length?d:null});this.offsets=b.map(this.targets,function(d){return b(d).offset().top})},processScroll:function(){var g=c.scrollTop()+10,f=this.offsets,d=this.targets,h=this.activeTarget,e;for(e=f.length;e--;){h!=d[e]&&g>=f[e]&&(!f[e+1]||g<=f[e+1])&&this.activateButton(d[e])}},activateButton:function(d){this.activeTarget=d;this.$topbar.find(this.selector).parent(".active").removeClass("active");this.$topbar.find(this.selector+'[href="'+d+'"]').parent("li").addClass("active")}};b.fn.scrollSpy=function(d){var e=this.data("scrollspy");if(!e){return this.each(function(){b(this).data("scrollspy",new a(this,d))})}if(d===true){return e}if(typeof d=="string"){e[d]()}return this};b(document).ready(function(){b("body").scrollSpy("[data-scrollspy] li > a")})}(window.jQuery||window.ender);
(function(c){var a=c.scrollTo=function(d,f,g){c(window).scrollTo(d,f,g)};a.defaults={axis:"xy",duration:parseFloat(c.fn.jquery)>=1.3?0:1};a.window=function(d){return c(window)._scrollable()};c.fn._scrollable=function(){return this.map(function(){var d=this,f=!d.nodeName||c.inArray(d.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!f){return d}var g=(d.contentWindow||d).document||d.ownerDocument||d;return c.browser.safari||g.compatMode=="BackCompat"?g.body:g.documentElement})};c.fn.scrollTo=function(f,e,d){if(typeof e=="object"){d=e;e=0}if(typeof d=="function"){d={onAfter:d}}if(f=="max"){f=9000000000}d=c.extend({},a.defaults,d);e=e||d.speed||d.duration;d.queue=d.queue&&d.axis.length>1;if(d.queue){e/=2}d.offset=b(d.offset);d.over=b(d.over);return this._scrollable().each(function(){var n=this,l=c(n),m=f,j,k={},h=l.is("html,body");switch(typeof m){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(m)){m=b(m);break}m=c(m,this);case"object":if(m.is||m.style){j=(m=c(m)).offset()}}c.each(d.axis.split(""),function(q,r){var t=r=="x"?"Left":"Top",s=t.toLowerCase(),v="scroll"+t,p=n[v],g=a.max(n,r);if(j){k[v]=j[s]+(h?0:p-l.offset()[s]);if(d.margin){k[v]-=parseInt(m.css("margin"+t))||0;k[v]-=parseInt(m.css("border"+t+"Width"))||0}k[v]+=d.offset[s]||0;if(d.over[s]){k[v]+=m[r=="x"?"width":"height"]()*d.over[s]}}else{var u=m[s];k[v]=u.slice&&u.slice(-1)=="%"?parseFloat(u)/100*g:u}if(/^\d+$/.test(k[v])){k[v]=k[v]<=0?0:Math.min(k[v],g)}if(!q&&d.queue){if(p!=k[v]){i(d.onAfterFirst)}delete k[v]}});i(d.onAfter);function i(g){l.animate(k,e,d.easing,g&&function(){g.call(this,f,d)})}}).end()};a.max=function(g,j){var n=j=="x"?"Width":"Height",k="scroll"+n;if(!c(g).is("html,body")){return g[k]-c(g)[n.toLowerCase()]()}var o="client"+n,f=g.ownerDocument.documentElement,d=g.ownerDocument.body;return Math.max(f[k],d[k])-Math.min(f[o],d[o])};function b(d){return typeof d=="object"?d:{top:d,left:d}}})(jQuery);
(function(ab){function N(){var a=[];this.empty=function(){for(var b=0;b<a.length;b++){if(a[b]){return false}}return true};this.add=function(b){a.push(b)};this.addNext=function(d){var b=[],c,e=0;for(c=0;c<a.length;c++){if(!a[c]){continue}if(e==1){b.push(d)}b.push(a[c]);e++}if(e<2){b.push(d)}a=b};this.get=function(){for(var b=0;b<a.length;b++){if(a[b]){return a[b]}}return false};this.ack=function(){for(var b=0;b<a.length;b++){if(a[b]){delete a[b];break}}if(this.empty()){a=[]}}}function Q(){var a={};this.add=function(c,b,d){c=c.toLowerCase();if(!a[c]){a[c]=[]}a[c].push({obj:b,tag:J(d,"tag")});return c+"-"+(a[c].length-1)};this.get=function(e,c,f){var d,g,b;e=e.toLowerCase();if(!a[e]||!a[e].length){return null}g=c?a[e].length:-1;b=c?-1:1;for(d=0;d<a[e].length;d++){g+=b;if(a[e][g]){if(f!==undefined){if((a[e][g].tag===undefined)||(ab.inArray(a[e][g].tag,f)<0)){continue}}return a[e][g].obj}}return null};this.all=function(c,d){var b,e=[];c=c.toLowerCase();if(!a[c]||!a[c].length){return e}for(b=0;b<a[c].length;b++){if(!a[c][b]){continue}if((d!==undefined)&&((a[c][b].tag===undefined)||(ab.inArray(a[c][b].tag,d)<0))){continue}e.push(a[c][b].obj)}return e};this.names=function(){var b,c=[];for(b in a){c.push(b)}return c};this.refToObj=function(b){b=b.split("-");if((b.length==2)&&a[b[0]]&&a[b[0]][b[1]]){return a[b[0]][b[1]].obj}return null};this.rm=function(d,f,e){var g,b,c;d=d.toLowerCase();if(!a[d]){return false}if(f!==undefined){if(e){for(g=a[d].length-1;g>=0;g--){if((a[d][g]!==undefined)&&(a[d][g].tag!==undefined)&&(ab.inArray(a[d][g].tag,f)>=0)){break}}}else{for(g=0;g<a[d].length;g++){if((a[d][g]!==undefined)&&(a[d][g].tag!==undefined)&&(ab.inArray(a[d][g].tag,f)>=0)){break}}}}else{g=e?a[d].length-1:0}if(!(g in a[d])){return false}if(typeof(a[d][g].obj.setMap)==="function"){a[d][g].obj.setMap(null)}if(typeof(a[d][g].obj.remove)==="function"){a[d][g].obj.remove()}if(typeof(a[d][g].obj.free)==="function"){a[d][g].obj.free()}delete a[d][g].obj;if(f!==undefined){c=[];for(b=0;b<a[d].length;b++){if(b!==g){c.push(a[d][b])}}a[d]=c}else{if(e){a[d].pop()}else{a[d].shift()}}return true};this.clear=function(c,d,b,h){var g,e,f;if(!c||!c.length){c=[];for(g in a){c.push(g)}}else{c=X(c)}for(e=0;e<c.length;e++){if(c[e]){f=c[e].toLowerCase();if(!a[f]){continue}if(d){this.rm(f,h,true)}else{if(b){this.rm(f,h,false)}else{while(this.rm(f,h,false)){}}}}}}}function D(){var b=[],e=[],d=[],f=[],c=false,a;this.events=function(){for(var g=0;g<arguments.length;g++){e.push(arguments[g])}};this.startRedraw=function(){if(!c){c=true;return true}return false};this.endRedraw=function(){c=false};this.redraw=function(){var h,i=[],g=this;for(h=0;h<arguments.length;h++){i.push(arguments[h])}if(this.startRedraw){a.apply(g,i);this.endRedraw()}else{setTimeout(function(){g.redraw.apply(g,i)},50)}};this.setRedraw=function(g){a=g};this.store=function(i,h,g){d.push({data:i,obj:h,shadow:g})};this.free=function(){for(var g=0;g<e.length;g++){google.maps.event.removeListener(e[g])}e=[];this.freeAll()};this.freeIndex=function(g){if(typeof(d[g].obj.setMap)==="function"){d[g].obj.setMap(null)}if(typeof(d[g].obj.remove)==="function"){d[g].obj.remove()}if(d[g].shadow){if(typeof(d[g].shadow.remove)==="function"){d[g].obj.remove()}if(typeof(d[g].shadow.setMap)==="function"){d[g].shadow.setMap(null)}delete d[g].shadow}delete d[g].obj;delete d[g].data;delete d[g]};this.freeAll=function(){var g;for(g=0;g<d.length;g++){if(d[g]){this.freeIndex(g)}}d=[]};this.freeDiff=function(l){var g,h,j={},i=[];for(g=0;g<l.length;g++){i.push(l[g].idx.join("-"))}for(g=0;g<d.length;g++){if(!d[g]){continue}h=ab.inArray(d[g].data.idx.join("-"),i);if(h>=0){j[h]=true}else{this.freeIndex(g)}}return j};this.add=function(g,h){b.push({latLng:g,marker:h})};this.get=function(g){return b[g]};this.clusters=function(B,v,j,w){var u=B.getProjection(),h=u.fromLatLngToPoint(new google.maps.LatLng(B.getBounds().getNorthEast().lat(),B.getBounds().getSouthWest().lng())),aj,ak,x,i,m,n,an,p,o=B.getZoom(),s={},C={},al={},q=[],ai,ah,t,z,l,am,r=B.getBounds(),g=j&&(j<=B.getZoom()),A=B.getZoom()>2;am=0;l={};for(aj=0;aj<b.length;aj++){if(A&&!r.contains(b[aj].latLng)){continue}i=u.fromLatLngToPoint(b[aj].latLng);s[aj]=[Math.floor((i.x-h.x)*Math.pow(2,o)),Math.floor((i.y-h.y)*Math.pow(2,o))];l[aj]=true;am++}if(!w&&!g){for(an=0;an<f.length;an++){if(an in l){am--}else{break}}if(!am){return false}}f=l;l=[];for(aj in s){m=s[aj][0];n=s[aj][1];if(!(m in C)){C[m]={}}if(!(n in C[m])){C[m][n]=aj;al[aj]={};l.push(aj)}al[C[m][n]][aj]=true}v=Math.pow(v,2);delete (C);an=0;while(1){while((an<l.length)&&!(l[an] in al)){an++}if(an==l.length){break}aj=l[an];t=s[aj][0];z=s[aj][1];C=null;if(g){C={lat:t,lng:z,idx:[aj]}}else{do{ai={lat:0,lng:0,idx:[]};for(p=an;p<l.length;p++){if(!(l[p] in al)){continue}ak=l[p];if(Math.pow(t-s[ak][0],2)+Math.pow(z-s[ak][1],2)<=v){for(x in al[ak]){ai.lat+=b[x].latLng.lat();ai.lng+=b[x].latLng.lng();ai.idx.push(x)}}}ai.lat/=ai.idx.length;ai.lng/=ai.idx.length;if(!C){ah=ai.idx.length>1;C=ai}else{ah=ai.idx.length>C.idx.length;if(ah){C=ai}}if(ah){i=u.fromLatLngToPoint(new google.maps.LatLng(C.lat,C.lng));t=Math.floor((i.x-h.x)*Math.pow(2,o));z=Math.floor((i.y-h.y)*Math.pow(2,o))}}while(ah)}for(p=0;p<C.idx.length;p++){if(C.idx[p] in al){delete (al[C.idx[p]])}}q.push(C)}return q};this.getBounds=function(){var h,g=new google.maps.LatLngBounds();for(h=0;h<b.length;h++){g.extend(b[h].latLng)}return g}}var Z={verbose:false,queryLimit:{attempt:5,delay:250,random:250},init:{mapTypeId:google.maps.MapTypeId.ROADMAP,center:[46.578498,2.457275],zoom:2},classes:{Map:google.maps.Map,Marker:google.maps.Marker,InfoWindow:google.maps.InfoWindow,Circle:google.maps.Circle,Rectangle:google.maps.Rectangle,OverlayView:google.maps.OverlayView,StreetViewPanorama:google.maps.StreetViewPanorama,KmlLayer:google.maps.KmlLayer,TrafficLayer:google.maps.TrafficLayer,BicyclingLayer:google.maps.BicyclingLayer,GroundOverlay:google.maps.GroundOverlay,StyledMapType:google.maps.StyledMapType}},G=["events","onces","options","apply","callback","data","tag"],V=["init","geolatlng","getlatlng","getroute","getelevation","getdistance","addstyledmap","setdefault","destroy"],P=["get"],S=directionsService=elevationService=maxZoomService=distanceMatrixService=null;function M(a){for(var b in a){if(typeof(Z[b])==="object"){Z[b]=ab.extend({},Z[b],a[b])}else{Z[b]=a[b]}}}function H(a){if(!a){return true}for(var b=0;b<V.length;b++){if(V[b]===a){return false}}return true}function R(c){var a=J(c,"action");for(var b=0;b<P.length;b++){if(P[b]===a){return true}}return false}function I(b,a){if(a.toLowerCase){a=a.toLowerCase();for(var c in b){if(c.toLowerCase&&(c.toLowerCase()==a)){return c}}}return false}function J(c,b,a){var d=I(c,b);return d?c[d]:a}function L(c,b){var a,d;if(!c||!b){return false}b=X(b);for(a in c){if(a.toLowerCase){a=a.toLowerCase();for(d in b){if(a==b[d]){return true}}}}return false}function W(c,d,e){if(L(c,G)||L(c,d)){var a,b;for(a=0;a<G.length;a++){b=I(c,G[a]);e[G[a]]=b?c[b]:{}}if(d&&d.length){for(a=0;a<d.length;a++){if(b=I(c,d[a])){e[d[a]]=c[b]}}}return e}else{e.options={};for(b in c){if(b!=="action"){e.options[b]=c[b]}}return e}}function O(d,f,g,e){var a=I(f,d),c,h={},b=["map"];h.callback=J(f,"callback");g=X(g);e=X(e);if(a){return W(f[a],g,h)}if(e&&e.length){for(c=0;c<e.length;c++){b.push(e[c])}}if(!L(f,b)){h=W(f,g,h)}for(c=0;c<G.length;c++){if(G[c] in h){continue}h[G[c]]={}}return h}function T(){if(!S){S=new google.maps.Geocoder()}return S}function ad(){if(!directionsService){directionsService=new google.maps.DirectionsService()}return directionsService}function K(){if(!elevationService){elevationService=new google.maps.ElevationService()}return elevationService}function E(){if(!maxZoomService){maxZoomService=new google.maps.MaxZoomService()}return maxZoomService}function ac(){if(!distanceMatrixService){distanceMatrixService=new google.maps.DistanceMatrixService()}return distanceMatrixService}function aa(a){return(typeof(a)==="number"||typeof(a)==="string")&&a!==""&&!isNaN(a)}function X(a){var b,c=[];if(a!==undefined){if(typeof(a)==="object"){if(typeof(a.length)==="number"){c=a}else{for(b in a){c.push(a[b])}}}else{c.push(a)}}return c}function Y(c,a,d){var b=a?c:null;if(!c||(typeof(c)==="string")){return b}if(c.latLng){return Y(c.latLng)}if(typeof(c.lat)==="function"){return c}else{if(aa(c.lat)){return new google.maps.LatLng(c.lat,c.lng)}else{if(!d&&c.length){if(!aa(c[0])||!aa(c[1])){return b}return new google.maps.LatLng(c[0],c[1])}}}return b}function U(e,d,a){var b,f,c;if(!e){return null}c=a?e:null;if(typeof(e.getCenter)==="function"){return e}if(e.length){if(e.length==2){b=Y(e[0]);f=Y(e[1])}else{if(e.length==4){b=Y([e[0],e[1]]);f=Y([e[2],e[3]])}}}else{if(("ne" in e)&&("sw" in e)){b=Y(e.ne);f=Y(e.sw)}else{if(("n" in e)&&("e" in e)&&("s" in e)&&("w" in e)){b=Y([e.n,e.e]);f=Y([e.s,e.w])}}}if(b&&f){return new google.maps.LatLngBounds(f,b)}return c}function F(a){var f=new N(),d=new Q(),b=null,c={},e=false;this._plan=function(g){for(var h=0;h<g.length;h++){f.add(g[h])}this._run()};this._planNext=function(g){f.addNext(g)};this._direct=function(h){var g=J(h,"action");return this[g](ab.extend({},g in Z?Z[g]:{},h.args?h.args:h))};this._end=function(){e=false;f.ack();this._run()},this._run=function(){if(e){return}var g=f.get();if(!g){return}e=true;this._proceed(g)};this._proceed=function(i){i=i||{};var l=J(i,"action")||"init",m=l.toLowerCase(),n=true,j=J(i,"target"),g=J(i,"args"),h;if(!b&&H(m)){this.init(ab.extend({},Z.init,i.args&&i.args.map?i.args.map:i.map?i.map:{}),true)}if(!j&&!g&&(m in this)&&(typeof(this[m])==="function")){this[m](ab.extend({},m in Z?Z[m]:{},i.args?i.args:i))}else{if(j&&(typeof(j)==="object")){if(n=(typeof(j[l])==="function")){h=j[l].apply(j,i.args?i.args:[])}}else{if(b){if(n=(typeof(b[l])==="function")){h=b[l].apply(b,i.args?i.args:[])}}}if(!n&&Z.verbose){alert("unknown action : "+l)}this._callback(h,i);this._end()}};this._resolveLatLng=function(i,j,o,g){var h=J(i,"address"),l,n=this,m=typeof(j)==="function"?j:n[j];if(h){if(!g){g=0}if(typeof(h)==="object"){l=h}else{l={address:h}}T().geocode(l,function(p,q){if(q===google.maps.GeocoderStatus.OK){m.apply(n,[i,o?p:p[0].geometry.location])}else{if((q===google.maps.GeocoderStatus.OVER_QUERY_LIMIT)&&(g<Z.queryLimit.attempt)){setTimeout(function(){n._resolveLatLng(i,j,o,g+1)},Z.queryLimit.delay+Math.floor(Math.random()*Z.queryLimit.random))}else{if(Z.verbose){alert("Geocode error : "+q)}m.apply(n,[i,false])}}})}else{m.apply(n,[i,Y(i,false,true)])}};this._resolveAllLatLng=function(i,l,j){var m=this,h=-1,g=function(){do{h++}while((h<i[l].length)&&!("address" in i[l][h]));if(h<i[l].length){(function(n){m._resolveLatLng(n,function(p,o){p.latLng=o;g.apply(m,[])})})(i[l][h])}else{m[j](i)}};g()};this._call=function(){var h,g=arguments[0],i=[];if(!arguments.length||!b||(typeof(b[g])!=="function")){return}for(h=1;h<arguments.length;h++){i.push(arguments[h])}return b[g].apply(b,i)};this._subcall=function(i,g){var h={};if(!i.map){return}if(!g){g=J(i.map,"latlng")}if(!b){if(g){h={center:g}}this.init(ab.extend({},i.map,h),true)}else{if(i.map.center&&g){this._call("setCenter",g)}if(i.map.zoom!==undefined){this._call("setZoom",i.map.zoom)}if(i.map.mapTypeId!==undefined){this._call("setMapTypeId",i.map.mapTypeId)}}};this._attachEvent=function(h,i,j,l,g){google.maps.event["addListener"+(g?"Once":"")](h,i,function(m){j.apply(a,[h,m,l])})};this._attachEvents=function(g,i){var h;if(!i){return}if(i.events){for(h in i.events){if(typeof(i.events[h])==="function"){this._attachEvent(g,h,i.events[h],i.data,false)}}}if(i.onces){for(h in i.onces){if(typeof(i.onces[h])==="function"){this._attachEvent(g,h,i.onces[h],i.data,true)}}}};this._callback=function(h,i){if(typeof(i.callback)==="function"){i.callback.apply(a,[h])}else{if(typeof(i.callback)==="object"){for(var g=0;g<i.callback.length;g++){if(typeof(i.callback[g])==="function"){i.callback[k].apply(a,[h])}}}}};this._manageEnd=function(h,i,g){var j,l;if(h&&(typeof(h)==="object")){this._attachEvents(h,i);if(i.apply&&i.apply.length){for(j=0;j<i.apply.length;j++){l=i.apply[j];if(!l.action||(typeof(h[l.action])!=="function")){continue}if(l.args){h[l.action].apply(h,l.args)}else{h[l.action]()}}}}if(!g){this._callback(h,i);this._end()}};this.destroy=function(h){var g;d.clear();a.empty();for(g in c){delete c[g]}c={};if(b){delete b}this._callback(null,h);this._end()};this.init=function(i,h){var j,g,l;if(b){return this._end()}j=O("map",i);if((typeof(j.options.center)==="boolean")&&j.options.center){return false}l=ab.extend({},Z.init,j.options);if(!l.center){l.center=[Z.init.center.lat,Z.init.center.lng]}l.center=Y(l.center);b=new Z.classes.Map(a.get(0),l);for(g in c){b.mapTypes.set(g,c[g])}this._manageEnd(b,j,h);return true};this.getlatlng=function(g){this._resolveLatLng(g,"_getLatLng",true)},this._getLatLng=function(h,g){this._manageEnd(g,h)},this.getaddress=function(i,g){var m=Y(i,false,true),h=J(i,"address"),l=m?{latLng:m}:(h?(typeof(h)==="string"?{address:h}:h):null),j=J(i,"callback"),n=this;if(!g){g=0}if(l&&typeof(j)==="function"){T().geocode(l,function(o,q){if((q===google.maps.GeocoderStatus.OVER_QUERY_LIMIT)&&(g<Z.queryLimit.attempt)){setTimeout(function(){n.getaddress(i,g+1)},Z.queryLimit.delay+Math.floor(Math.random()*Z.queryLimit.random))}else{var p=q===google.maps.GeocoderStatus.OK?o:false;j.apply(a,[p,q]);if(!p&&Z.verbose){alert("Geocode error : "+q)}n._end()}})}else{this._end()}};this.getroute=function(i){var g=J(i,"callback"),h=this;if((typeof(g)==="function")&&i.options){i.options.origin=Y(i.options.origin,true);i.options.destination=Y(i.options.destination,true);ad().route(i.options,function(j,m){var l=m==google.maps.DirectionsStatus.OK?j:false;g.apply(a,[l,m]);h._end()})}else{this._end()}};this.getelevation=function(o){var l,g,i,n,j=[],h=J(o,"callback"),p=J(o,"latlng"),m=this;if(typeof(h)==="function"){l=function(q,s){var r=s===google.maps.ElevationStatus.OK?q:false;h.apply(a,[r,s]);m._end()};if(p){j.push(Y(p))}else{j=J(o,"locations")||[];if(j){j=X(j);for(n=0;n<j.length;n++){j[n]=Y(j[n])}}}if(j.length){K().getElevationForLocations({locations:j},l)}else{g=J(o,"path");i=J(o,"samples");if(g&&i){for(n=0;n<g.length;n++){j.push(Y(g[n]))}if(j.length){K().getElevationAlongPath({path:j,samples:i},l)}}}}else{this._end()}};this.getdistance=function(i){var h,j=J(i,"callback"),g=this;if((typeof(j)==="function")&&i.options&&i.options.origins&&i.options.destinations){i.options.origins=X(i.options.origins);for(h=0;h<i.options.origins.length;h++){i.options.origins[h]=Y(i.options.origins[h],true)}i.options.destinations=X(i.options.destinations);for(h=0;h<i.options.destinations.length;h++){i.options.destinations[h]=Y(i.options.destinations[h],true)}ac().getDistanceMatrix(i.options,function(l,n){var m=n==google.maps.DistanceMatrixStatus.OK?l:false;j.apply(a,[m,n]);g._end()})}else{this._end()}};this.addmarker=function(g){this._resolveLatLng(g,"_addMarker")};this._addMarker=function(h,m,g){var i,n,j,l=O("marker",h,"to");if(!g){if(!m){this._manageEnd(false,l);return}this._subcall(h,m)}else{if(!m){return}}if(l.to){j=d.refToObj(l.to);i=j&&(typeof(j.add)==="function");if(i){j.add(m,h);if(typeof(j.redraw)==="function"){j.redraw()}}if(!g){this._manageEnd(i,l)}}else{l.options.position=m;l.options.map=b;i=new Z.classes.Marker(l.options);if(L(h,"infowindow")){n=O("infowindow",h.infowindow,"open");if((n.open===undefined)||n.open){n.apply=X(n.apply);n.apply.unshift({action:"open",args:[b,i]})}n.action="addinfowindow";this._planNext(n)}if(!g){d.add("marker",i,l);this._manageEnd(i,l)}}return i};this.addmarkers=function(g){if(J(g,"clusters")){this._resolveAllLatLng(g,"markers","_addclusteredmarkers")}else{this._resolveAllLatLng(g,"markers","_addmarkers")}};this._addmarkers=function(o){var g,q,m,p,j,h={},l,i,n=J(o,"markers");this._subcall(o);if(typeof(n)!=="object"){return this._end()}q=O("marker",o,["to","markers"]);if(q.to){i=d.refToObj(q.to);g=i&&(typeof(i.add)==="function");if(g){for(m=0;m<n.length;m++){if(p=Y(n[m])){i.add(p,n[m])}}if(typeof(i.redraw)==="function"){i.redraw()}}this._manageEnd(g,q)}else{ab.extend(true,h,q.options);h.map=b;g=[];for(m=0;m<n.length;m++){if(p=Y(n[m])){if(n[m].options){l={};ab.extend(true,l,h,n[m].options);q.options=l}else{q.options=h}q.options.position=p;j=new Z.classes.Marker(q.options);g.push(j);q.data=n[m].data;q.tag=n[m].tag;d.add("marker",j,q);this._manageEnd(j,q,true)}}q.options=h;this._callback(g,o);this._end()}};this._addclusteredmarkers=function(p){var m,n,q,h,l=this,j=J(p,"radius"),i=J(p,"maxZoom"),o=J(p,"markers"),g=J(p,"clusters");if(!b.getBounds()){google.maps.event.addListenerOnce(b,"bounds_changed",function(){l._addclusteredmarkers(p)});return}if(typeof(j)==="number"){m=new D();for(n=0;n<o.length;n++){q=Y(o[n]);m.add(q,o[n])}h=this._initClusters(p,m,j,i,g)}this._callback(h,p);this._end()};this._initClusters=function(h,m,i,g,j){var l=this;m.setRedraw(function(o){var n,p=m.clusters(b,i,g,o);if(p){n=m.freeDiff(p);l._displayClusters(h,m,p,n,j)}});m.events(google.maps.event.addListener(b,"zoom_changed",function(){m.redraw(true)}),google.maps.event.addListener(b,"bounds_changed",function(){m.redraw()}));m.redraw();return d.add("cluster",m,h)};this._displayClusters=function(t,h,u,i,s){var j,g,p,l,n,o,v,B,x,z,q,A,w,r=L(t,"cluster")?O("",J(t,"cluster")):{},m=L(t,"marker")?O("",J(t,"marker")):{};for(g=0;g<u.length;g++){if(g in i){continue}B=u[g];n=false;if(B.idx.length>1){l=0;for(j in s){if((j>l)&&(j<=B.idx.length)){l=j}}if(s[l]){q=J(s[l],"width");A=J(s[l],"height");w={};ab.extend(true,w,r,{options:{pane:"overlayLayer",content:s[l].content.replace("CLUSTER_COUNT",B.idx.length),offset:{x:-q/2,y:-A/2}}});o=this._addOverlay(w,Y(B),true);w.options.pane="floatShadow";w.options.content=ab("<div></div>");w.options.content.width(q);w.options.content.height(A);v=this._addOverlay(w,Y(B),true);r.data={latLng:Y(B),markers:[]};for(p=0;p<B.idx.length;p++){r.data.markers.push(h.get(B.idx[p]).marker)}this._attachEvents(v,r);h.store(B,o,v);n=true}}if(!n){x={};ab.extend(true,x,m.options);for(p=0;p<B.idx.length;p++){l=h.get(B.idx[p]);m.latLng=l.latLng;m.data=l.marker.data;m.tag=l.marker.tag;if(l.marker.options){z={};ab.extend(true,z,x,l.marker.options);m.options=z}else{m.options=x}o=this._addMarker(m,m.latLng,true);this._attachEvents(o,m);h.store(B,o)}m.options=x}}};this.addinfowindow=function(g){this._resolveLatLng(g,"_addInfoWindow")};this._addInfoWindow=function(i,g){var j,l,h=[];this._subcall(i,g);j=O("infowindow",i,["open","anchor"]);if(g){j.options.position=g}l=new Z.classes.InfoWindow(j.options);if((j.open===undefined)||j.open){j.apply=X(j.apply);h.push(b);if(j.anchor){h.push(j.anchor)}j.apply.unshift({action:"open",args:h})}d.add("infowindow",l,j);this._manageEnd(l,j)};this.addpolyline=function(g){this._addPoly(g,"Polyline","path")};this.addpolygon=function(g){this._addPoly(g,"Polygon","paths")};this._addPoly=function(i,n,l){var h,m,g,j=O(n.toLowerCase(),i,l);if(j[l]){j.options[l]=[];for(h=0;h<j[l].length;h++){if(g=Y(j[l][h])){j.options[l].push(g)}}}m=new google.maps[n](j.options);m.setMap(b);d.add(n.toLowerCase(),m,j);this._manageEnd(m,j)};this.addcircle=function(g){this._resolveLatLng(g,"_addCircle")};this._addCircle=function(i,h){var j,g=O("circle",i);if(!h){h=Y(g.options.center)}if(!h){return this._manageEnd(false,g)}this._subcall(i,h);g.options.center=h;g.options.map=b;j=new Z.classes.Circle(g.options);d.add("circle",j,g);this._manageEnd(j,g)};this.addrectangle=function(g){this._resolveLatLng(g,"_addRectangle")};this._addRectangle=function(i,g){var h,j=O("rectangle",i);j.options.bounds=U(j.options.bounds,true);if(!j.options.bounds){return this._manageEnd(false,j)}this._subcall(i,j.options.bounds.getCenter());j.options.map=b;h=new Z.classes.Rectangle(j.options);d.add("rectangle",h,j);this._manageEnd(h,j)};this.addoverlay=function(g){this._resolveLatLng(g,"_addOverlay")};this._addOverlay=function(l,n,j){var m,o=O("overlay",l),p=ab.extend({pane:"floatPane",content:"",offset:{x:0,y:0}},o.options),g=ab("<div></div>"),h=[];g.css("border","none").css("borderWidth","0px").css("position","absolute");g.append(p.content);function i(){Z.classes.OverlayView.call(this);this.setMap(b)}i.prototype=new Z.classes.OverlayView();i.prototype.onAdd=function(){var q=this.getPanes();if(p.pane in q){ab(q[p.pane]).append(g)}};i.prototype.draw=function(){var s=this.getProjection(),q=s.fromLatLngToDivPixel(n),r=this;g.css("left",(q.x+p.offset.x)+"px").css("top",(q.y+p.offset.y)+"px");ab.each(("dblclick click mouseover mousemove mouseout mouseup mousedown").split(" "),function(t,u){h.push(google.maps.event.addDomListener(g[0],u,function(v){google.maps.event.trigger(r,u)}))});h.push(google.maps.event.addDomListener(g[0],"contextmenu",function(t){google.maps.event.trigger(r,"rightclick")}))};i.prototype.onRemove=function(){for(var q=0;q<h.length;q++){google.maps.event.removeListener(h[q])}g.remove()};i.prototype.hide=function(){g.hide()};i.prototype.show=function(){g.show()};i.prototype.toggle=function(){if(g){if(g.is(":visible")){this.show()}else{this.hide()}}};i.prototype.toggleDOM=function(){if(this.getMap()){this.setMap(null)}else{this.setMap(b)}};i.prototype.getDOMElement=function(){return g[0]};m=new i();if(!j){d.add("overlay",m,o);this._manageEnd(m,o)}return m};this.addfixpanel=function(h){var j=O("fixpanel",h),i=y=0,l,g;if(j.options.content){l=ab(j.options.content);if(j.options.left!==undefined){i=j.options.left}else{if(j.options.right!==undefined){i=a.width()-l.width()-j.options.right}else{if(j.options.center){i=(a.width()-l.width())/2}}}if(j.options.top!==undefined){y=j.options.top}else{if(j.options.bottom!==undefined){y=a.height()-l.height()-j.options.bottom}else{if(j.options.middle){y=(a.height()-l.height())/2}}}g=ab("<div></div>").css("position","absolute").css("top",y+"px").css("left",i+"px").css("z-index","1000").append(l);a.first().prepend(g);this._attachEvents(b,j);d.add("fixpanel",g,j);this._callback(g,j)}this._end()};this.adddirectionsrenderer=function(i,h){var g,j=O("directionrenderer",i,"panelId");j.options.map=b;g=new google.maps.DirectionsRenderer(j.options);if(j.panelId){g.setPanel(document.getElementById(j.panelId))}d.add("directionrenderer",g,j);this._manageEnd(g,j,h);return g};this.setdirectionspanel=function(i){var h=d.get("directionrenderer"),g=O("directionpanel",i,"id");if(h&&g.id){h.setPanel(document.getElementById(g.id))}this._manageEnd(h,g)};this.setdirections=function(i){var h=d.get("directionrenderer"),g=O("directions",i);if(i){g.options.directions=i.directions?i.directions:(i.options&&i.options.directions?i.options.directions:null)}if(g.options.directions){if(!h){h=this.adddirectionsrenderer(g,true)}else{h.setDirections(g.options.directions)}}this._manageEnd(h,g)};this.setstreetview=function(i){var h,g=O("streetview",i,"id");if(g.options.position){g.options.position=Y(g.options.position)}h=new Z.classes.StreetViewPanorama(document.getElementById(g.id),g.options);if(h){b.setStreetView(h)}this._manageEnd(h,g)};this.addkmllayer=function(h){var i,g=O("kmllayer",h,"url");g.options.map=b;if(typeof(g.url)==="string"){i=new Z.classes.KmlLayer(g.url,g.options)}d.add("kmllayer",i,g);this._manageEnd(i,g)};this.addtrafficlayer=function(i){var g=O("trafficlayer",i),h=d.get("trafficlayer");if(!h){h=new Z.classes.TrafficLayer();h.setMap(b);d.add("trafficlayer",h,g)}this._manageEnd(h,g)};this.addbicyclinglayer=function(i){var h=O("bicyclinglayer",i),g=d.get("bicyclinglayer");if(!g){g=new Z.classes.BicyclingLayer();g.setMap(b);d.add("bicyclinglayer",g,h)}this._manageEnd(g,h)};this.addgroundoverlay=function(i){var h,g=O("groundoverlay",i,["bounds","url"]);g.bounds=U(g.bounds);if(g.bounds&&(typeof(g.url)==="string")){h=new Z.classes.GroundOverlay(g.url,g.bounds);h.setMap(b);d.add("groundoverlay",h,g)}this._manageEnd(h,g)};this.geolatlng=function(h){var g=J(h,"callback");if(typeof(g)==="function"){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(i){var j=new google.maps.LatLng(i.coords.latitude,i.coords.longitude);g.apply(a,[j])},function(){var i=false;g.apply(a,[i])})}else{if(google.gears){google.gears.factory.create("beta.geolocation").getCurrentPosition(function(i){var j=new google.maps.LatLng(i.latitude,i.longitude);g.apply(a,[j])},function(){out=false;g.apply(a,[out])})}else{g.apply(a,[false])}}}this._end()};this.addstyledmap=function(i,h){var g=O("styledmap",i,["id","style"]);if(g.style&&g.id&&!c[g.id]){c[g.id]=new Z.classes.StyledMapType(g.style,g.options);if(b){b.mapTypes.set(g.id,c[g.id])}}this._manageEnd(c[g.id],g,h)};this.setstyledmap=function(h){var g=O("styledmap",h,["id","style"]);if(g.id){this.addstyledmap(g,true);if(c[g.id]){b.setMapTypeId(g.id);this._callback(c[g.id],h)}}this._manageEnd(c[g.id],g)};this.clear=function(h){var l=X(J(h,"list")||J(h,"name")),g=J(h,"last",false),j=J(h,"first",false),i=J(h,"tag");if(i!==undefined){i=X(i)}d.clear(l,g,j,i);this._end()};this.get=function(h){var g=J(h,"name")||"map",j=J(h,"first"),l=J(h,"all"),i=J(h,"tag");g=g.toLowerCase();if(g==="map"){return b}if(i!==undefined){i=X(i)}if(j){return d.get(g,false,i)}else{if(l){return d.all(g,i)}else{return d.get(g,true,i)}}};this.getmaxzoom=function(g){this._resolveLatLng(g,"_getMaxZoom")};this._getMaxZoom=function(i,g){var j=J(i,"callback"),h=this;if(j&&typeof(j)==="function"){E().getMaxZoomAtLatLng(g,function(m){var l=m.status===google.maps.MaxZoomStatus.OK?m.zoom:false;j.apply(a,[l,m.status]);h._end()})}else{this._end()}};this.setdefault=function(g){M(g);this._end()};this.autofit=function(p,l){var h,i,n,m,o,j=true,q=new google.maps.LatLngBounds(),g=J(p,"maxZoom",null);h=d.names();for(m=0;m<h.length;m++){i=d.all(h[m]);for(o=0;o<i.length;o++){n=i[o];if(n.getPosition){q.extend(n.getPosition());j=false}else{if(n.getBounds){q.extend(n.getBounds().getNorthEast());q.extend(n.getBounds().getSouthWest());j=false}else{if(n.getPaths){n.getPaths().forEach(function(r){r.forEach(function(s){q.extend(s);j=false})})}else{if(n.getPath){n.getPath().forEach(function(r){q.extend(r);j=false})}else{if(n.getCenter){q.extend(n.getCenter());j=false}}}}}}}if(!j&&(!b.getBounds()||!b.getBounds().equals(q))){if(g!==null){google.maps.event.addListenerOnce(b,"bounds_changed",function(){if(this.getZoom()>g){this.setZoom(g)}})}b.fitBounds(q)}if(!l){this._manageEnd(j?false:q,p,l)}}}ab.fn.gmap3=function(){var c,e,a=[],b=true,d=[];for(c=0;c<arguments.length;c++){e=arguments[c]||{};if(typeof(e)==="string"){e={action:e}}a.push(e)}if(!a.length){a.push({})}ab.each(this,function(){var g=ab(this),f=g.data("gmap3");b=false;if(!f){f=new F(g);g.data("gmap3",f)}if((a.length==1)&&(R(a[0]))){d.push(f._direct(a[0]))}else{f._plan(a)}});if(d.length){if(d.length===1){return d[0]}else{return d}}if(b&&(arguments.length==2)&&(typeof(arguments[0])==="string")&&(arguments[0].toLowerCase()==="setdefault")){M(arguments[1])}return this}}(jQuery));
(function(E,L){function q(m){E.extend(true,f,m)}function e(bu,bt,bq){function br(bv){if(aX){bb();bh();a2();aN(bv)}else{bp()}}function bp(){aZ=bt.theme?"ui":"fc";bu.addClass("fc");bt.isRTL&&bu.addClass("fc-rtl");bt.theme&&bu.addClass("ui-widget");aX=E("<div class='fc-content' style='position:relative'/>").prependTo(bu);aY=new ax(ac,bt);(aP=aY.render())&&bu.prepend(aP);a9(bt.defaultView);E(window).resize(aJ);bd()||bo()}function bo(){setTimeout(function(){!bk.start&&bd()&&aN()},0)}function bl(){E(window).unbind("resize",aJ);aY.destroy();aX.remove();bu.removeClass("fc fc-rtl ui-widget")}function bm(){return bn.offsetWidth!==0}function bd(){return E("body")[0].offsetWidth!==0}function a9(bv){if(!bk||bv!=bk.name){aW++;a3();var bx=bk,bw;if(bx){(bx.beforeHide||b)();ay(aX,aX.height());bx.element.hide()}else{ay(aX,1)}aX.css("overflow","hidden");if(bk=N[bv]){bk.element.show()}else{bk=N[bv]=new M[bv](bw=be=E("<div class='fc-view fc-view-"+bv+"' style='position:absolute'/>").appendTo(aX),ac)}bx&&aY.deactivateButton(bx.name);aY.activateButton(bv);aN();aX.css("overflow","");bx&&ay(aX,1);bw||(bk.afterShow||b)();aW--}}function aN(bv){if(bm()){aW++;a3();bj===L&&bb();var bw=false;if(!bk.start||bv||bf<bk.start||bf>=bk.end){bk.render(bf,bv||0);a7(true);bw=true}else{if(bk.sizeDirty){bk.clearEvents();a7();bw=true}else{if(bk.eventsDirty){bk.clearEvents();bw=true}}}bk.sizeDirty=false;bk.eventsDirty=false;a1(bw);aI=bu.outerWidth();aY.updateTitle(bk.title);bv=new Date;bv>=bk.start&&bv<bk.end?aY.disableButton("today"):aY.enableButton("today");aW--;bk.trigger("viewDisplay",bn)}}function aO(){bh();if(bm()){bb();a7();a3();bk.clearEvents();bk.renderEvents(aT);bk.sizeDirty=false}}function bh(){E.each(N,function(bv,bw){bw.sizeDirty=true})}function bb(){bj=bt.contentHeight?bt.contentHeight:bt.height?bt.height-(aP?aP.height():0)-d(aX):Math.round(aX.width()/Math.max(bt.aspectRatio,0.5))}function a7(bv){aW++;bk.setHeight(bj,bv);if(be){be.css("position","relative");be=null}bk.setWidth(aX.width(),bv);aW--}function aJ(){if(!aW){if(bk.start){var bv=++ba;setTimeout(function(){if(bv==ba&&!aW&&bm()){if(aI!=(aI=bu.outerWidth())){aW++;aO();bk.trigger("windowResize",bn);aW--}}},200)}else{bo()}}}function a1(bv){if(!bt.lazyFetching||a5(bk.visStart,bk.visEnd)){bc()}else{bv&&a0()}}function bc(){aS(bk.visStart,bk.visEnd)}function a4(bv){aT=bv;a0()}function m(bv){a0(bv)}function a0(bv){a2();if(bm()){bk.clearEvents();bk.renderEvents(aT,bv);bk.eventsDirty=false}}function a2(){E.each(N,function(bv,bw){bw.eventsDirty=true})}function bg(bv,bx,bw){bk.select(bv,bx,bw===L?true:bw)}function a3(){bk&&bk.unselect()}function aL(){aN(-1)}function a6(){aN(1)}function ab(){am(bf,-1);aN()}function aK(){am(bf,1);aN()}function aV(){bf=new Date;aN()}function bi(bv,bx,bw){if(bv instanceof Date){bf=T(bv)}else{av(bf,bv,bx,bw)}aN()}function aR(bv,bx,bw){bv!==L&&am(bf,bv);bx!==L&&V(bf,bx);bw!==L&&S(bf,bw);aN()}function bs(){return T(bf)}function a8(){return bk}function aU(bv,bw){if(bw===L){return bt[bv]}if(bv=="height"||bv=="contentHeight"||bv=="aspectRatio"){bt[bv]=bw;aO()}}function aM(bv,bw){if(bt[bv]){return bt[bv].apply(bw||bn,Array.prototype.slice.call(arguments,2))}}var ac=this;ac.options=bt;ac.render=br;ac.destroy=bl;ac.refetchEvents=bc;ac.reportEvents=a4;ac.reportEventChange=m;ac.rerenderEvents=a0;ac.changeView=a9;ac.select=bg;ac.unselect=a3;ac.prev=aL;ac.next=a6;ac.prevYear=ab;ac.nextYear=aK;ac.today=aV;ac.gotoDate=bi;ac.incrementDate=aR;ac.formatDate=function(bv,bw){return ag(bv,bw,bt)};ac.formatDates=function(bv,bx,bw){return G(bv,bx,bw,bt)};ac.getDate=bs;ac.getView=a8;ac.option=aU;ac.trigger=aM;ad.call(ac,bt,bq);var a5=ac.isFetchNeeded,aS=ac.fetchEvents,bn=bu[0],aY,aP,aX,aZ,bk,N={},aI,bj,be,ba=0,aW=0,bf=new Date,aT=[],aQ;av(bf,bt.year,bt.month,bt.date);bt.droppable&&E(document).bind("dragstart",function(bw,bz){var by=bw.target,bx=E(by);if(!bx.parents(".fc").length){var bv=bt.dropAccept;if(E.isFunction(bv)?bv.call(by,bx):bx.is(bv)){aQ=by;bk.dragStart(aQ,bw,bz)}}}).bind("dragstop",function(bv,bw){if(aQ){bk.dragStop(aQ,bv,bw);aQ=null}})}function ax(aP,aO){function aL(){m=aO.theme?"ui":"fc";if(aO.header){return aI=E("<table class='fc-header' style='width:100%'/>").append(E("<tr/>").append(aK("left")).append(aK("center")).append(aK("right")))}}function aM(){aI.remove()}function aK(aR){var aS=E("<td class='fc-header-"+aR+"'/>");(aR=aO.header[aR])&&E.each(aR.split(" "),function(aT){aT>0&&aS.append("<span class='fc-header-space'/>");var aU;E.each(this.split(","),function(aY,aW){if(aW=="title"){aS.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");aU&&aU.addClass(m+"-corner-right");aU=null}else{var aV;if(aP[aW]){aV=aP[aW]}else{if(M[aW]){aV=function(){aZ.removeClass(m+"-state-hover");aP.changeView(aW)}}}if(aV){aY=aO.theme?u(aO.buttonIcons,aW):null;var aX=u(aO.buttonText,aW),aZ=E("<span class='fc-button fc-button-"+aW+" "+m+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(aY?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+aY+"'/></span>":aX)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(aZ){aZ.click(function(){aZ.hasClass(m+"-state-disabled")||aV()}).mousedown(function(){aZ.not("."+m+"-state-active").not("."+m+"-state-disabled").addClass(m+"-state-down")}).mouseup(function(){aZ.removeClass(m+"-state-down")}).hover(function(){aZ.not("."+m+"-state-active").not("."+m+"-state-disabled").addClass(m+"-state-hover")},function(){aZ.removeClass(m+"-state-hover").removeClass(m+"-state-down")}).appendTo(aS);aU||aZ.addClass(m+"-corner-left");aU=aZ}}}});aU&&aU.addClass(m+"-corner-right")});return aS}function aJ(aR){aI.find("h2").html(aR)}function N(aR){aI.find("span.fc-button-"+aR).addClass(m+"-state-active")}function ac(aR){aI.find("span.fc-button-"+aR).removeClass(m+"-state-active")}function aQ(aR){aI.find("span.fc-button-"+aR).addClass(m+"-state-disabled")}function aN(aR){aI.find("span.fc-button-"+aR).removeClass(m+"-state-disabled")}var ab=this;ab.render=aL;ab.destroy=aM;ab.updateTitle=aJ;ab.activateButton=N;ab.deactivateButton=ac;ab.disableButton=aQ;ab.enableButton=aN;var aI=E([]),m}function ad(a6,a5){function a3(ba,a9){return !aV||ba<aV||a9>aL}function a4(bb,ba){aV=bb;aL=ba;aM=[];bb=++aO;aQ=ba=ac.length;for(var a9=0;a9<ba;a9++){a2(ac[a9],bb)}}function a2(ba,a9){a1(ba,function(bc){if(a9==aO){if(bc){for(var bb=0;bb<bc.length;bb++){bc[bb].source=ba;aN(bc[bb])}aM=aM.concat(bc)}aQ--;aQ||a0(aM)}})}function a1(bg,be){var bd,bb=aB.sourceFetchers,bf;for(bd=0;bd<bb.length;bd++){bf=bb[bd](bg,aV,aL,be);if(bf===true){return}else{if(typeof bf=="object"){a1(bf,be);return}}}if(bd=bg.events){if(E.isFunction(bd)){aR();bd(T(aV),T(aL),function(bh){be(bh);aW()})}else{E.isArray(bd)?be(bd):be()}}else{if(bg.url){var ba=bg.success,a9=bg.error,bc=bg.complete;bd=E.extend({},bg.data||{});bb=aw(bg.startParam,a6.startParam);bf=aw(bg.endParam,a6.endParam);if(bb){bd[bb]=Math.round(+aV/1000)}if(bf){bd[bf]=Math.round(+aL/1000)}aR();E.ajax(E.extend({},aj,bg,{data:bd,success:function(bi){bi=bi||[];var bh=ae(ba,this,arguments);if(E.isArray(bh)){bi=bh}be(bi)},error:function(){ae(a9,this,arguments);be()},complete:function(){ae(bc,this,arguments);aW()}}))}else{be()}}}function aX(a9){if(a9=aZ(a9)){aQ++;a2(a9,aO)}}function aZ(a9){if(E.isFunction(a9)||E.isArray(a9)){a9={events:a9}}else{if(typeof a9=="string"){a9={url:a9}}}if(typeof a9=="object"){a8(a9);ac.push(a9);return a9}}function aS(a9){ac=E.grep(ac,function(ba){return !aY(ba,a9)});aM=E.grep(aM,function(ba){return !aY(ba.source,a9)});a0(aM)}function aP(bf){var bd,bc=aM.length,bb,be=m().defaultEventEnd,ba=bf.start-bf._start,a9=bf.end?bf.end-(bf._end||be(bf)):0;for(bd=0;bd<bc;bd++){bb=aM[bd];if(bb._id==bf._id&&bb!=bf){bb.start=new Date(+bb.start+ba);bb.end=bf.end?bb.end?new Date(+bb.end+a9):new Date(+be(bb)+a9):null;bb.title=bf.title;bb.url=bf.url;bb.allDay=bf.allDay;bb.className=bf.className;bb.editable=bf.editable;bb.color=bf.color;bb.backgroudColor=bf.backgroudColor;bb.borderColor=bf.borderColor;bb.textColor=bf.textColor;aN(bb)}}aN(bf);a0(aM)}function aI(ba,a9){aN(ba);if(!ba.source){if(a9){N.events.push(ba);ba.source=N}aM.push(ba)}a0(aM)}function aJ(bb){if(bb){if(!E.isFunction(bb)){var ba=bb+"";bb=function(bc){return bc._id==ba}}aM=E.grep(aM,bb,true);for(a9=0;a9<ac.length;a9++){if(E.isArray(ac[a9].events)){ac[a9].events=E.grep(ac[a9].events,bb,true)}}}else{aM=[];for(var a9=0;a9<ac.length;a9++){if(E.isArray(ac[a9].events)){ac[a9].events=[]}}}a0(aM)}function aT(a9){if(E.isFunction(a9)){return E.grep(aM,a9)}else{if(a9){a9+="";return E.grep(aM,function(ba){return ba._id==a9})}}return aM}function aR(){aU++||a7("loading",null,true)}function aW(){--aU||a7("loading",null,false)}function aN(bb){var ba=bb.source||{},a9=aw(ba.ignoreTimezone,a6.ignoreTimezone);bb._id=bb._id||(bb.id===L?"_fc"+R++:bb.id+"");if(bb.date){if(!bb.start){bb.start=bb.date}delete bb.date}bb._start=T(bb.start=i(bb.start,a9));bb.end=i(bb.end,a9);if(bb.end&&bb.end<=bb.start){bb.end=null}bb._end=bb.end?T(bb.end):null;if(bb.allDay===L){bb.allDay=aw(ba.allDayDefault,a6.allDayDefault)}if(bb.className){if(typeof bb.className=="string"){bb.className=bb.className.split(/\s+/)}}else{bb.className=[]}}function a8(bb){if(bb.className){if(typeof bb.className=="string"){bb.className=bb.className.split(/\s+/)}}else{bb.className=[]}for(var ba=aB.sourceNormalizers,a9=0;a9<ba.length;a9++){ba[a9](bb)}}function aY(ba,a9){return ba&&a9&&ab(ba)==ab(a9)}function ab(a9){return(typeof a9=="object"?a9.events||a9.url:"")||a9}var aK=this;aK.isFetchNeeded=a3;aK.fetchEvents=a4;aK.addEventSource=aX;aK.removeEventSource=aS;aK.updateEvent=aP;aK.renderEvent=aI;aK.removeEvents=aJ;aK.clientEvents=aT;aK.normalizeEvent=aN;var a7=aK.trigger,m=aK.getView,a0=aK.reportEvents,N={events:[]},ac=[N],aV,aL,aO=0,aQ=0,aU=0,aM=[];for(aK=0;aK<a5.length;aK++){aZ(a5[aK])}}function am(N,m,ab){N.setFullYear(N.getFullYear()+m);ab||z(N);return N}function V(N,m,ab){if(+N){m=N.getMonth()+m;var ac=T(N);ac.setDate(1);ac.setMonth(m);N.setMonth(m);for(ab||z(N);N.getMonth()!=ac.getMonth();){N.setDate(N.getDate()+(N<ac?1:-1))}}return N}function S(N,m,ab){if(+N){m=N.getDate()+m;var ac=T(N);ac.setHours(9);ac.setDate(m);N.setDate(m);ab||z(N);aD(N,ac)}return N}function aD(N,m){if(+N){for(;N.getDate()!=m.getDate();){N.setTime(+N+(N<m?1:-1)*D)}}}function c(N,m){N.setMinutes(N.getMinutes()+m);return N}function z(m){m.setHours(0);m.setMinutes(0);m.setSeconds(0);m.setMilliseconds(0);return m}function T(N,m){if(m){return z(new Date(+N))}return new Date(+N)}function ah(){var N=0,m;do{m=new Date(1970,N++,1)}while(m.getHours());return m}function k(N,m,ab){for(m=m||1;!N.getDay()||ab&&N.getDay()==1||!ab&&N.getDay()==6;){S(N,m)}return N}function X(N,m){return Math.round((T(N,true)-T(m,true))/aA)}function av(N,m,ab,ac){if(m!==L&&m!=N.getFullYear()){N.setDate(1);N.setMonth(0);N.setFullYear(m)}if(ab!==L&&ab!=N.getMonth()){N.setDate(1);N.setMonth(ab)}ac!==L&&N.setDate(ac)}function i(N,m){if(typeof N=="object"){return N}if(typeof N=="number"){return new Date(N*1000)}if(typeof N=="string"){if(N.match(/^\d+(\.\d+)?$/)){return new Date(parseFloat(N)*1000)}if(m===L){m=true}return an(N,m)||(N?new Date(N):null)}return null}function an(N,m){N=N.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!N){return null}var ab=new Date(N[1],0,1);if(m||!N[13]){m=new Date(N[1],0,1,9,0);if(N[3]){ab.setMonth(N[3]-1);m.setMonth(N[3]-1)}if(N[5]){ab.setDate(N[5]);m.setDate(N[5])}aD(ab,m);N[7]&&ab.setHours(N[7]);N[8]&&ab.setMinutes(N[8]);N[10]&&ab.setSeconds(N[10]);N[12]&&ab.setMilliseconds(Number("0."+N[12])*1000);aD(ab,m)}else{ab.setUTCFullYear(N[1],N[3]?N[3]-1:0,N[5]||1);ab.setUTCHours(N[7]||0,N[8]||0,N[10]||0,N[12]?Number("0."+N[12])*1000:0);if(N[14]){m=Number(N[16])*60+(N[18]?Number(N[18]):0);m*=N[15]=="-"?1:-1;ab=new Date(+ab+m*60*1000)}}return ab}function ap(N){if(typeof N=="number"){return N*60}if(typeof N=="object"){return N.getHours()*60+N.getMinutes()}if(N=N.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var m=parseInt(N[1],10);if(N[3]){m%=12;if(N[3].toLowerCase().charAt(0)=="p"){m+=12}}return m*60+(N[2]?parseInt(N[2],10):0)}}function ag(N,m,ab){return G(N,null,m,ab)}function G(aO,aN,aK,aL){aL=aL||f;var aJ=aO,aI=aN,m,ab=aK.length,aP,aM,N,ac="";for(m=0;m<ab;m++){aP=aK.charAt(m);if(aP=="'"){for(aM=m+1;aM<ab;aM++){if(aK.charAt(aM)=="'"){if(aJ){ac+=aM==m+1?"'":aK.substring(m+1,aM);m=aM}break}}}else{if(aP=="("){for(aM=m+1;aM<ab;aM++){if(aK.charAt(aM)==")"){m=ag(aJ,aK.substring(m+1,aM),aL);if(parseInt(m.replace(/\D/,""),10)){ac+=m}m=aM;break}}}else{if(aP=="["){for(aM=m+1;aM<ab;aM++){if(aK.charAt(aM)=="]"){aP=aK.substring(m+1,aM);m=ag(aJ,aP,aL);if(m!=ag(aI,aP,aL)){ac+=m}m=aM;break}}}else{if(aP=="{"){aJ=aN;aI=aO}else{if(aP=="}"){aJ=aO;aI=aN}else{for(aM=ab;aM>m;aM--){if(N=s[aK.substring(m,aM)]){if(aJ){ac+=N(aJ,aL)}m=aM-1;break}}if(aM==m){if(aJ){ac+=aP}}}}}}}}return ac}function ai(m){return m.end?g(m.end,m.allDay):S(T(m.start),1)}function g(N,m){N=T(N);return m||N.getHours()||N.getMinutes()?S(N,1):z(N)}function az(N,m){return(m.msLength-N.msLength)*100+(N.event.start-m.event.start)}function W(N,m){return N.end>m.start&&N.start<m.end}function Z(aO,aN,aK,aL){var aJ=[],aI,m=aO.length,ab,aP,aM,N,ac;for(aI=0;aI<m;aI++){ab=aO[aI];aP=ab.start;aM=aN[aI];if(aM>aK&&aP<aL){if(aP<aK){aP=T(aK);N=false}else{aP=aP;N=true}if(aM>aL){aM=T(aL);ac=false}else{aM=aM;ac=true}aJ.push({event:ab,start:aP,end:aM,isStart:N,isEnd:ac,msLength:aM-aP})}}return aJ.sort(az)}function J(ab){var m=[],aK,aL=ab.length,aJ,aI,N,ac;for(aK=0;aK<aL;aK++){aJ=ab[aK];for(aI=0;;){N=false;if(m[aI]){for(ac=0;ac<m[aI].length;ac++){if(W(m[aI][ac],aJ)){N=true;break}}}if(N){aI++}else{break}}if(m[aI]){m[aI].push(aJ)}else{m[aI]=[aJ]}}return m}function H(N,m,ab){N.unbind("mouseover").mouseover(function(aJ){for(var aI=aJ.target,ac;aI!=this;){ac=aI;aI=aI.parentNode}if((aI=ac._fci)!==L){ac._fci=L;ac=m[aI];ab(ac.event,ac.element,ac);E(aJ.target).trigger(aJ)}aJ.stopPropagation()})}function Q(N,m,ac){for(var aI=0,ab;aI<N.length;aI++){ab=E(N[aI]);ab.width(Math.max(0,m-x(ab,ac)))}}function v(N,m,ac){for(var aI=0,ab;aI<N.length;aI++){ab=E(N[aI]);ab.height(Math.max(0,m-d(ab,ac)))}}function x(N,m){return al(N)+U(N)+(m?F(N):0)}function al(m){return(parseFloat(E.curCSS(m[0],"paddingLeft",true))||0)+(parseFloat(E.curCSS(m[0],"paddingRight",true))||0)}function F(m){return(parseFloat(E.curCSS(m[0],"marginLeft",true))||0)+(parseFloat(E.curCSS(m[0],"marginRight",true))||0)}function U(m){return(parseFloat(E.curCSS(m[0],"borderLeftWidth",true))||0)+(parseFloat(E.curCSS(m[0],"borderRightWidth",true))||0)}function d(N,m){return t(N)+h(N)+(m?j(N):0)}function t(m){return(parseFloat(E.curCSS(m[0],"paddingTop",true))||0)+(parseFloat(E.curCSS(m[0],"paddingBottom",true))||0)}function j(m){return(parseFloat(E.curCSS(m[0],"marginTop",true))||0)+(parseFloat(E.curCSS(m[0],"marginBottom",true))||0)}function h(m){return(parseFloat(E.curCSS(m[0],"borderTopWidth",true))||0)+(parseFloat(E.curCSS(m[0],"borderBottomWidth",true))||0)}function ay(N,m){m=typeof m=="number"?m+"px":m;N.each(function(ab,ac){ac.style.cssText+=";min-height:"+m+";_height:"+m})}function b(){}function aE(N,m){return N-m}function aq(m){return Math.max.apply(Math,m)}function P(m){return(m<10?"0":"")+m}function u(N,m){if(N[m]!==L){return N[m]}m=m.split(/(?=[A-Z])/);for(var ab=m.length-1,ac;ab>=0;ab--){ac=N[m[ab].toLowerCase()];if(ac!==L){return ac}}return N[""]}function C(m){return m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function aa(m){return m.id+"/"+m.className+"/"+m.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function n(m){m.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function ak(m){m.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function aG(N,m){N.each(function(ab,ac){ac.className=ac.className.replace(/^fc-\w*/,"fc-"+aC[m.getDay()])})}function K(ab,m){var aJ=ab.source||{},aK=ab.color,aI=aJ.color,ac=m("eventColor"),N=ab.backgroundColor||aK||aJ.backgroundColor||aI||m("eventBackgroundColor")||ac;aK=ab.borderColor||aK||aJ.borderColor||aI||m("eventBorderColor")||ac;ab=ab.textColor||aJ.textColor||m("eventTextColor");m=[];N&&m.push("background-color:"+N);aK&&m.push("border-color:"+aK);ab&&m.push("color:"+ab);return m.join(";")}function ae(N,m,ac){if(E.isFunction(N)){N=[N]}if(N){var aI,ab;for(aI=0;aI<N.length;aI++){ab=N[aI].apply(m,ac)||ab}return ab}}function aw(){for(var m=0;m<arguments.length;m++){if(arguments[m]!==L){return arguments[m]}}}function ao(ab,m){function aJ(aL,aN){if(aN){V(aL,aN);aL.setDate(1)}aL=T(aL,true);aL.setDate(1);aN=V(T(aL),1);var aQ=T(aL),aM=T(aN),aO=aI("firstDay"),aP=aI("weekends")?0:1;if(aP){k(aQ);k(aM,-1,true)}S(aQ,-((aQ.getDay()-Math.max(aO,aP)+7)%7));S(aM,(7-aM.getDay()+Math.max(aO,aP))%7);aO=Math.round((aM-aQ)/(aA*7));if(aI("weekMode")=="fixed"){S(aM,(6-aO)*7);aO=6}aK.title=N(aL,aI("titleFormat"));aK.start=aL;aK.end=aN;aK.visStart=aQ;aK.visEnd=aM;ac(6,aO,aP?5:7,true)}var aK=this;aK.render=aJ;at.call(aK,ab,m,"month");var aI=aK.opt,ac=aK.renderBasic,N=m.formatDate}function Y(ab,m){function aJ(aL,aN){aN&&S(aL,aN*7);aL=S(T(aL),-((aL.getDay()-aI("firstDay")+7)%7));aN=S(T(aL),7);var aP=T(aL),aM=T(aN),aO=aI("weekends");if(!aO){k(aP);k(aM,-1,true)}aK.title=N(aP,S(T(aM),-1),aI("titleFormat"));aK.start=aL;aK.end=aN;aK.visStart=aP;aK.visEnd=aM;ac(1,1,aO?7:5,false)}var aK=this;aK.render=aJ;at.call(aK,ab,m,"basicWeek");var aI=aK.opt,ac=aK.renderBasic,N=m.formatDates}function I(ab,m){function aJ(aL,aM){if(aM){S(aL,aM);aI("weekends")||k(aL,aM<0?-1:1)}aK.title=N(aL,aI("titleFormat"));aK.start=aK.visStart=T(aL,true);aK.end=aK.visEnd=S(T(aK.start),1);ac(1,1,1,false)}var aK=this;aK.render=aJ;at.call(aK,ab,m,"basicDay");var aI=aK.opt,ac=aK.renderBasic,N=m.formatDate}function at(bB,bA,bx){function by(bD,bE,bF,bC){bg=bE;aX=bF;bw();(bE=!a0)?bv(bD,bC):bd();br(bE)}function bw(){if(bs=aS("isRTL")){aZ=-1;N=aX-1}else{aZ=1;N=0}a4=aS("firstDay");bc=aS("weekends")?0:1;bf=aS("theme")?"ui":"fc";a9=aS("columnFormat")}function bv(bD,bE){var bG,bC=bf+"-widget-header",bF=bf+"-widget-content",bH;bG="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(bH=0;bH<aX;bH++){bG+="<th class='fc- "+bC+"'/>"}bG+="</tr></thead><tbody>";for(bH=0;bH<bD;bH++){bG+="<tr class='fc-week"+bH+"'>";for(bC=0;bC<aX;bC++){bG+="<td class='fc- "+bF+" fc-day"+(bH*aX+bC)+"'><div>"+(bE?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}bG+="</tr>"}bG+="</tbody></table>";bD=E(bG).appendTo(bB);aT=bD.find("thead");bu=aT.find("th");a0=bD.find("tbody");aQ=a0.find("tr");aY=a0.find("td");a1=aY.filter(":first-child");bq=aQ.eq(0).find("div.fc-day-content div");ak(aT.add(aT.find("tr")));ak(aQ);aQ.eq(0).addClass("fc-first");be(aY);ab=E("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bB)}function br(bD){var bE=bD||bg==1,bG=bo.start.getMonth(),bC=z(new Date),bF,bI,bH;bE&&bu.each(function(bK,bJ){bF=E(bJ);bI=ba(bK);bF.html(a8(bI,a9));aG(bF,bI)});aY.each(function(bK,bJ){bF=E(bJ);bI=ba(bK);bI.getMonth()==bG?bF.removeClass("fc-other-month"):bF.addClass("fc-other-month");+bI==+bC?bF.addClass(bf+"-state-highlight fc-today"):bF.removeClass(bf+"-state-highlight fc-today");bF.find("div.fc-day-number").text(bI.getDate());bE&&aG(bF,bI)});aQ.each(function(bK,bJ){bH=E(bJ);if(bK<bg){bH.show();bK==bg-1?bH.addClass("fc-last"):bH.removeClass("fc-last")}else{bH.hide()}})}function bt(bD){bp=bD;bD=bp-aT.height();var bE,bF,bC;if(aS("weekMode")=="variable"){bE=bF=Math.floor(bD/(bg==1?2:6))}else{bE=Math.floor(bD/bg);bF=bD-bE*(bg-1)}a1.each(function(bG,bH){if(bG<bg){bC=E(bH);ay(bC.find("> div"),(bG==bg-1?bF:bE)-d(bC))}})}function bj(bC){aJ=bC;aR.clear();bk=Math.floor(aJ/aX);Q(bu.slice(0,-1),bk)}function be(bC){bC.click(aO).mousedown(aI)}function aO(bC){if(!aS("selectable")){var bD=parseInt(this.className.match(/fc\-day(\d+)/)[1]);bD=ba(bD);bz("dayClick",this,bD,true,bC)}}function aP(bD,bE,bG){bG&&bl.build();bG=T(bo.visStart);for(var bC=S(T(bG),aX),bF=0;bF<bg;bF++){var bJ=new Date(Math.max(bG,bD)),bH=new Date(Math.min(bC,bE));if(bJ<bH){var bI;if(bs){bI=X(bH,bG)*aZ+N+1;bJ=X(bJ,bG)*aZ+N+1}else{bI=X(bJ,bG);bJ=X(bH,bG)}be(bn(bF,bI,bF,bJ-1))}S(bG,7);S(bC,7)}}function bn(bD,bE,bF,bC){bD=bl.rect(bD,bE,bF,bC,bB);return aV(bD,bB)}function bh(bC){return T(bC)}function bb(bC,bD){aP(bC,S(T(bD),1),true)}function aK(){aN()}function a3(bD,bE,bF){var bC=bm(bD);bz("dayClick",aY[bC.row*aX+bC.col],bD,bE,bF)}function bi(bC,bD){aU.start(function(bE){aN();bE&&bn(bE.row,bE.col,bE.row,bE.col)},bD)}function a7(bD,bE,bF){var bC=aU.stop();aN();if(bC){bC=a6(bC);bz("drop",bD,bC,true,bE,bF)}}function m(bC){return T(bC.start)}function a2(bC){return aR.left(bC)}function a5(bC){return aR.right(bC)}function bm(bC){return{row:Math.floor(X(bC,bo.visStart)/7),col:ac(bC.getDay())}}function a6(bC){return aM(bC.row,bC.col)}function aM(bC,bD){return S(T(bo.visStart),bC*7+bD*aZ+N)}function ba(bC){return aM(Math.floor(bC/aX),bC%aX)}function ac(bC){return(bC-Math.max(a4,bc)+aX)%aX*aZ+N}function aL(bC){return aQ.eq(bC)}function aW(){return{left:0,right:aJ}}var bo=this;bo.renderBasic=by;bo.setHeight=bt;bo.setWidth=bj;bo.renderDayOverlay=aP;bo.defaultSelectionEnd=bh;bo.renderSelection=bb;bo.clearSelection=aK;bo.reportDayClick=a3;bo.dragStart=bi;bo.dragStop=a7;bo.defaultEventEnd=m;bo.getHoverListener=function(){return aU};bo.colContentLeft=a2;bo.colContentRight=a5;bo.dayOfWeekCol=ac;bo.dateCell=bm;bo.cellDate=a6;bo.cellIsAllDay=function(){return true};bo.allDayRow=aL;bo.allDayBounds=aW;bo.getRowCnt=function(){return bg};bo.getColCnt=function(){return aX};bo.getColWidth=function(){return bk};bo.getDaySegmentContainer=function(){return ab};y.call(bo,bB,bA,bx);o.call(bo);aH.call(bo);w.call(bo);var aS=bo.opt,bz=bo.trigger,bd=bo.clearEvents,aV=bo.renderOverlay,aN=bo.clearOverlays,aI=bo.daySelectionMousedown,a8=bA.formatDate,aT,bu,a0,aQ,aY,a1,bq,ab,aJ,bp,bk,bg,aX,bl,aU,aR,bs,aZ,N,a4,bc,bf,a9;n(bB.addClass("fc-grid"));bl=new au(function(bD,bE){var bG,bC,bF;bu.each(function(bI,bH){bG=E(bH);bC=bG.offset().left;if(bI){bF[1]=bC}bF=[bC];bE[bI]=bF});bF[1]=bC+bG.outerWidth();aQ.each(function(bI,bH){if(bI<bg){bG=E(bH);bC=bG.offset().top;if(bI){bF[1]=bC}bF=[bC];bD[bI]=bF}});bF[1]=bC+bG.outerHeight()});aU=new af(bl);aR=new O(function(bC){return bq.eq(bC)})}function w(){function aZ(a3,a2){ac(a3);aT(aW(a3),a2)}function aY(){aI();a1().empty()}function aW(a4){var a6=a0(),a8=m(),a7=T(aU.visStart);a8=S(T(a7),a8);var bd=E.map(a4,ai),a2,bb,ba,a9,bc,a5,a3=[];for(a2=0;a2<a6;a2++){bb=J(Z(a4,bd,a7,a8));for(ba=0;ba<bb.length;ba++){a9=bb[ba];for(bc=0;bc<a9.length;bc++){a5=a9[bc];a5.row=a2;a5.level=ba;a3.push(a5)}}S(a7,7);S(a8,7)}return a3}function aX(a3,a2,a4){aN(a3)&&aV(a3,a2);a4.isEnd&&aL(a3)&&N(a3,a2,a4);aO(a3,a2)}function aV(a3,a2){var a4=aR(),a5;a2.draggable({zIndex:9,delay:50,opacity:aQ("dragOpacity"),revertDuration:aQ("dragRevertDuration"),start:function(a6,a7){aS("eventDragStart",a2,a3,a6,a7);aP(a3,a2);a4.start(function(a8,bb,ba,a9){a2.draggable("option","revert",!a8||!ba&&!a9);aJ();if(a8){a5=ba*7+a9*(aQ("isRTL")?-1:1);ab(S(T(a3.start),a5),S(ai(a3),a5))}else{a5=0}},a6,"drag")},stop:function(a6,a7){a4.stop();aJ();aS("eventDragStop",a2,a3,a6,a7);if(a5){aK(this,a3,a5,0,a3.allDay,a6,a7)}else{a2.css("filter","");aM(a3,a2)}}})}var aU=this;aU.renderEvents=aZ;aU.compileDaySegs=aW;aU.clearEvents=aY;aU.bindDaySeg=aX;B.call(aU);var aQ=aU.opt,aS=aU.trigger,aN=aU.isEventDraggable,aL=aU.isEventResizable,ac=aU.reportEvents,aI=aU.reportEventClear,aO=aU.eventElementHandlers,aM=aU.showEvents,aP=aU.hideEvents,aK=aU.eventDrop,a1=aU.getDaySegmentContainer,aR=aU.getHoverListener,ab=aU.renderDayOverlay,aJ=aU.clearOverlays,a0=aU.getRowCnt,m=aU.getColCnt,aT=aU.renderDaySegs,N=aU.resizableDayEvent}function l(ab,m){function aJ(aL,aN){aN&&S(aL,aN*7);aL=S(T(aL),-((aL.getDay()-aI("firstDay")+7)%7));aN=S(T(aL),7);var aP=T(aL),aM=T(aN),aO=aI("weekends");if(!aO){k(aP);k(aM,-1,true)}aK.title=N(aP,S(T(aM),-1),aI("titleFormat"));aK.start=aL;aK.end=aN;aK.visStart=aP;aK.visEnd=aM;ac(aO?7:5)}var aK=this;aK.render=aJ;r.call(aK,ab,m,"agendaWeek");var aI=aK.opt,ac=aK.renderAgenda,N=m.formatDates}function aF(ab,m){function aJ(aL,aM){if(aM){S(aL,aM);aI("weekends")||k(aL,aM<0?-1:1)}aM=T(aL,true);var aN=S(T(aM),1);aK.title=N(aL,aI("titleFormat"));aK.start=aK.visStart=aM;aK.end=aK.visEnd=aN;ac(1)}var aK=this;aK.render=aJ;r.call(aK,ab,m,"agendaDay");var aI=aK.opt,ac=aK.renderAgenda,N=m.formatDate}function r(bl,bk,bh){function bi(bb){bU=bb;bg();aY?bA():bf();a9()}function bg(){aW=bd("theme")?"ui":"fc";m=bd("weekends")?0:1;b0=bd("firstDay");if(bR=bd("isRTL")){bW=-1;bM=bU-1}else{bW=1;bM=0}aI=ap(bd("minTime"));bz=ap(bd("maxTime"));bo=bd("columnFormat")}function bf(){var cb=aW+"-widget-header",cd=aW+"-widget-content",b7,bb,b8,b9,ca,cc=bd("slotMinutes")%15==0;b7="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+cb+"'>&nbsp;</th>";for(bb=0;bb<bU;bb++){b7+="<th class='fc- fc-col"+bb+" "+cb+"'/>"}b7+="<th class='fc-agenda-gutter "+cb+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+cb+"'>&nbsp;</th>";for(bb=0;bb<bU;bb++){b7+="<td class='fc- fc-col"+bb+" "+cd+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}b7+="<td class='fc-agenda-gutter "+cd+"'>&nbsp;</td></tr></tbody></table>";aY=E(b7).appendTo(bl);bJ=aY.find("thead");a2=bJ.find("th").slice(1,-1);bE=aY.find("tbody");bB=bE.find("td").slice(0,-1);ba=bB.find("div.fc-day-content div");bN=bB.eq(0);bp=bN.find("> div");ak(bJ.add(bJ.find("tr")));ak(bE.add(bE.find("tr")));bS=bJ.find("th:first");aS=aY.find(".fc-agenda-gutter");aP=E("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(bl);if(bd("allDaySlot")){be=E("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(aP);b7="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+cb+" fc-agenda-axis'>"+bd("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+cb+" fc-agenda-gutter'>&nbsp;</th></tr></table>";b3=E(b7).appendTo(aP);bX=b3.find("tr");a3(bX.find("td"));bS=bS.add(b3.find("th:first"));aS=aS.add(b3.find("th.fc-agenda-gutter"));aP.append("<div class='fc-agenda-divider "+cb+"'><div class='fc-agenda-divider-inner'/></div>")}else{be=E([])}aX=E("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(aP);bG=E("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(aX);bx=E("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bG);b7="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";b8=ah();b9=c(T(b8),bz);c(b8,aI);for(bb=bQ=0;b8<b9;bb++){ca=b8.getMinutes();b7+="<tr class='fc-slot"+bb+" "+(!ca?"":"fc-minor")+"'><th class='fc-agenda-axis "+cb+"'>"+(!cc||!ca?a1(b8,bd("axisFormat")):"&nbsp;")+"</th><td class='"+cd+"'><div style='position:relative'>&nbsp;</div></td></tr>";c(b8,bd("slotMinutes"));bQ++}b7+="</tbody></table>";bt=E(b7).appendTo(bG);N=bt.find("div:first");aZ(bt.find("td"));bS=bS.add(bt.find("th:first"))}function a9(){var b9,ca,b7,bb,b8=z(new Date);for(b9=0;b9<bU;b9++){bb=bn(b9);ca=a2.eq(b9);ca.html(a1(bb,bo));b7=bB.eq(b9);+bb==+b8?b7.addClass(aW+"-state-highlight fc-today"):b7.removeClass(aW+"-state-highlight fc-today");aG(ca.add(b7),bb)}}function bc(b8,b9){if(b8===L){b8=aV}aV=b8;bm={};var b7=bE.position().top,bb=aX.position().top;b8=Math.min(b8-b7,bt.height()+bb+1);bp.height(b8-d(bN));aP.css("top",b7);aX.height(b8-bb-1);aM=N.height()+1;b9&&aU()}function a0(bb){b4=bb;a5.clear();b6=0;Q(bS.width("").each(function(b8,b7){b6=Math.max(b6,E(b7).outerWidth())}),b6);bb=aX[0].clientWidth;if(aR=aX.width()-bb){Q(aS,aR);aS.show().prev().removeClass("fc-last")}else{aS.hide().prev().addClass("fc-last")}aN=Math.floor((bb-b6)/bU);Q(a2.slice(0,-1),aN)}function aU(){function b8(){aX.scrollTop(bb)}var b9=ah(),b7=T(b9);b7.setHours(bd("firstHour"));var bb=a8(b9,b7)+1;b8();setTimeout(b8,0)}function bw(){aL=aX.scrollTop()}function by(){aX.scrollTop(aL)}function a3(bb){bb.click(b2).mousedown(bs)}function aZ(bb){bb.click(b2).mousedown(bH)}function b2(b9){if(!bd("selectable")){var ca=Math.min(bU-1,Math.floor((b9.pageX-aY.offset().left-b6)/aN)),b7=bn(ca),bb=this.parentNode.className.match(/fc-slot(\d+)/);if(bb){bb=parseInt(bb[1])*bd("slotMinutes");var b8=Math.floor(bb/60);b7.setHours(b8);b7.setMinutes(bb%60+aI);bO("dayClick",bB[ca],b7,false,b9)}else{bO("dayClick",bB[ca],b7,true,b9)}}}function bL(b8,b9,b7){b7&&bZ.build();var bb=T(bD.visStart);if(bR){b7=X(b9,bb)*bW+bM+1;b8=X(b8,bb)*bW+bM+1}else{b7=X(b8,bb);b8=X(b9,bb)}b7=Math.max(0,b7);b8=Math.min(bU,b8);b7<b8&&a3(bT(0,b7,0,b8-1))}function bT(b8,b9,b7,bb){b8=bZ.rect(b8,b9,b7,bb,aP);return bK(b8,aP)}function b5(cb,cd){for(var b7=T(bD.visStart),bb=S(T(b7),1),b8=0;b8<bU;b8++){var b9=new Date(Math.max(b7,cb)),ca=new Date(Math.min(bb,cd));if(b9<ca){var cc=b8*bW+bM;cc=bZ.rect(0,cc,0,cc,bG);b9=a8(b7,b9);ca=a8(b7,ca);cc.top=b9;cc.height=ca-b9;aZ(bK(cc,bG))}S(b7,1);S(bb,1)}}function bY(bb){return a5.left(bb)}function bF(bb){return a5.right(bb)}function aO(bb){return{row:Math.floor(X(bb,bD.visStart)/7),col:bu(bb.getDay())}}function bV(bb){var b7=bn(bb.col);bb=bb.row;bd("allDaySlot")&&bb--;bb>=0&&c(b7,aI+bb*bd("slotMinutes"));return b7}function bn(bb){return S(T(bD.visStart),bb*bW+bM)}function aQ(bb){return bd("allDaySlot")&&!bb.row}function bu(bb){return(bb-Math.max(b0,m)+bU)%bU*bW+bM}function a8(b8,b9){b8=T(b8,true);if(b9<c(T(b8),aI)){return 0}if(b9>=c(T(b8),bz)){return bt.height()}b8=bd("slotMinutes");b9=b9.getHours()*60+b9.getMinutes()-aI;var b7=Math.floor(b9/b8),bb=bm[b7];if(bb===L){bb=bm[b7]=bt.find("tr:eq("+b7+") td div")[0].offsetTop}return Math.max(0,Math.round(bb-1+aM*(b9%b8/b8)))}function ab(){return{left:b6,right:b4-aR}}function ac(){return bX}function bI(bb){var b7=T(bb.start);if(bb.allDay){return b7}return c(b7,bd("defaultEventMinutes"))}function a4(bb,b7){if(b7){return T(bb)}return c(T(bb),bd("slotMinutes"))}function bC(b7,b8,bb){if(bb){bd("allDaySlot")&&bL(b7,S(T(b8),1),true)}else{bj(b7,b8)}}function bj(ca,cb){var b7=bd("selectHelper");bZ.build();if(b7){var bb=X(ca,bD.visStart)*bW+bM;if(bb>=0&&bb<bU){bb=bZ.rect(0,bb,0,bb,bG);var b8=a8(ca,ca),b9=a8(ca,cb);if(b9>b8){bb.top=b8;bb.height=b9-b8;bb.left+=2;bb.width-=5;if(E.isFunction(b7)){if(ca=b7(ca,cb)){bb.position="absolute";bb.zIndex=8;aJ=E(ca).css(bb).appendTo(bG)}}else{bb.isStart=true;bb.isEnd=true;aJ=E(a6({title:"",start:ca,end:cb,className:["fc-select-helper"],editable:false},bb));aJ.css("opacity",bd("dragOpacity"))}if(aJ){aZ(aJ);bG.append(aJ);Q(aJ,bb.width,true);v(aJ,bb.height,true)}}}}else{b5(ca,cb)}}function aT(){bP();if(aJ){aJ.remove();aJ=null}}function bH(bb){if(bb.which==1&&bd("selectable")){bq(bb);var b7;aK.start(function(b9,b8){aT();if(b9&&b9.col==b8.col&&!aQ(b9)){b8=bV(b8);b9=bV(b9);b7=[b8,c(T(b8),bd("slotMinutes")),b9,c(T(b9),bd("slotMinutes"))].sort(aE);bj(b7[0],b7[3])}else{b7=null}},bb);E(document).one("mouseup",function(b8){aK.stop();if(b7){+b7[0]==+b7[1]&&bv(b7[0],false,b8);a7(b7[0],b7[3],false,b8)}})}}function bv(b7,b8,bb){bO("dayClick",bB[bu(b7.getDay())],b7,b8,bb)}function br(bb,b7){aK.start(function(b9){bP();if(b9){if(aQ(b9)){bT(b9.row,b9.col,b9.row,b9.col)}else{b9=bV(b9);var b8=c(T(b9),bd("defaultEventMinutes"));b5(b9,b8)}}},b7)}function b1(b8,b9,b7){var bb=aK.stop();bP();bb&&bO("drop",b8,bV(bb),aQ(bb),b9,b7)}var bD=this;bD.renderAgenda=bi;bD.setWidth=a0;bD.setHeight=bc;bD.beforeHide=bw;bD.afterShow=by;bD.defaultEventEnd=bI;bD.timePosition=a8;bD.dayOfWeekCol=bu;bD.dateCell=aO;bD.cellDate=bV;bD.cellIsAllDay=aQ;bD.allDayRow=ac;bD.allDayBounds=ab;bD.getHoverListener=function(){return aK};bD.colContentLeft=bY;bD.colContentRight=bF;bD.getDaySegmentContainer=function(){return be};bD.getSlotSegmentContainer=function(){return bx};bD.getMinMinute=function(){return aI};bD.getMaxMinute=function(){return bz};bD.getBodyContent=function(){return bG};bD.getRowCnt=function(){return 1};bD.getColCnt=function(){return bU};bD.getColWidth=function(){return aN};bD.getSlotHeight=function(){return aM};bD.defaultSelectionEnd=a4;bD.renderDayOverlay=bL;bD.renderSelection=bC;bD.clearSelection=aT;bD.reportDayClick=bv;bD.dragStart=br;bD.dragStop=b1;y.call(bD,bl,bk,bh);o.call(bD);aH.call(bD);ar.call(bD);var bd=bD.opt,bO=bD.trigger,bA=bD.clearEvents,bK=bD.renderOverlay,bP=bD.clearOverlays,a7=bD.reportSelection,bq=bD.unselect,bs=bD.daySelectionMousedown,a6=bD.slotSegHtml,a1=bk.formatDate,aY,bJ,a2,bE,bB,ba,bN,bp,aP,be,b3,bX,aX,bG,bx,bt,N,bS,aS,aJ,b4,aV,b6,aN,aR,aM,aL,bU,bQ,bZ,aK,a5,bm={},aW,b0,m,bR,bW,bM,aI,bz,bo;n(bl.addClass("fc-agenda"));bZ=new au(function(cc,cd){function cf(cg){return Math.max(ce,Math.min(b9,cg))}var b7,cb,ca;a2.each(function(ch,cg){b7=E(cg);cb=b7.offset().left;if(ch){ca[1]=cb}ca=[cb];cd[ch]=ca});ca[1]=cb+b7.outerWidth();if(bd("allDaySlot")){b7=bX;cb=b7.offset().top;cc[0]=[cb,cb+b7.outerHeight()]}for(var bb=bG.offset().top,ce=aX.offset().top,b9=ce+aX.outerHeight(),b8=0;b8<bQ;b8++){cc.push([cf(bb+aM*b8),cf(bb+aM*(b8+1))])}});aK=new af(bZ);a5=new O(function(bb){return ba.eq(bb)})}function ar(){function bn(bt,bq){a1(bt);var bp,bs=bt.length,br=[],bo=[];for(bp=0;bp<bs;bp++){bt[bp].allDay?br.push(bt[bp]):bo.push(bt[bp])}if(a7("allDaySlot")){aQ(bj(br),bq);aZ()}bh(bk(bo),bq)}function bm(){m();ba().empty();a0().empty()}function bj(bt){bt=J(Z(bt,E.map(bt,ai),bb.visStart,bb.visEnd));var bq,bp=bt.length,bs,br,bo,bu=[];for(bq=0;bq<bp;bq++){bs=bt[bq];for(br=0;br<bs.length;br++){bo=bs[br];bo.row=0;bo.level=bq;bu.push(bo)}}return bu}function bk(br){var bA=a5(),bx=ab(),bz=a3(),bp=c(T(bb.visStart),bx),bw=E.map(br,bi),bv,bu,bo,bq,by,bt,bs=[];for(bv=0;bv<bA;bv++){bu=J(Z(br,bw,bp,c(T(bp),bz-bx)));A(bu);for(bo=0;bo<bu.length;bo++){bq=bu[bo];for(by=0;by<bq.length;by++){bt=bq[by];bt.col=bv;bt.level=bo;bs.push(bt)}}S(bp,1,true)}return bs}function bi(bo){return bo.end?T(bo.end):c(T(bo.start),a7("defaultEventMinutes"))}function bh(bD,bA){var by,bz=bD.length,bC,bv,bu,bG,bB,bp,bo,bE,bF,br="",bx,bw,bs={},bq={},bt=a0(),bH;by=a5();if(bx=a7("isRTL")){bw=-1;bH=by-1}else{bw=1;bH=0}for(by=0;by<bz;by++){bC=bD[by];bv=bC.event;bu=aK(bC.start,bC.start);bG=aK(bC.start,bC.end);bB=bC.col;bp=bC.level;bo=bC.forward||0;bE=aT(bB*bw+bH);bF=bc(bB*bw+bH)-bE;bF=Math.min(bF-6,bF*0.95);bB=bp?bF/(bp+bo+1):bo?(bF/(bo+1)-6)*2:bF;bp=bE+bF/(bp+bo+1)*bp*bw+(bx?bF-bB:0);bC.top=bu;bC.left=bp;bC.outerWidth=bB;bC.outerHeight=bG-bu;br+=be(bv,bC)}bt[0].innerHTML=br;bx=bt.children();for(by=0;by<bz;by++){bC=bD[by];bv=bC.event;br=E(bx[by]);bw=a4("eventRender",bv,bv,br);if(bw===false){br.remove()}else{if(bw&&bw!==true){br.remove();br=E(bw).css({position:"absolute",top:bC.top,left:bC.left}).appendTo(bt)}bC.element=br;if(bv._id===bA){a9(bv,br,bC)}else{br[0]._fci=by}a2(bv,br)}}H(bt,bD,a9);for(by=0;by<bz;by++){bC=bD[by];if(br=bC.element){bv=bs[bA=bC.key=aa(br[0])];bC.vsides=bv===L?(bs[bA]=d(br,true)):bv;bv=bq[bA];bC.hsides=bv===L?(bq[bA]=x(br,true)):bv;bA=br.find("div.fc-event-content");if(bA.length){bC.contentTop=bA[0].offsetTop}}}for(by=0;by<bz;by++){bC=bD[by];if(br=bC.element){br[0].style.width=Math.max(0,bC.outerWidth-bC.hsides)+"px";bs=Math.max(0,bC.outerHeight-bC.vsides);br[0].style.height=bs+"px";bv=bC.event;if(bC.contentTop!==L&&bs-bC.contentTop<10){br.find("div.fc-event-time").text(N(bv.start,a7("timeFormat"))+" - "+bv.title);br.find("div.fc-event-title").remove()}a4("eventAfterRender",bv,bv,br)}}}function be(bt,bq){var bp="<",bs=bt.url,br=K(bt,a7),bo=br?" style='"+br+"'":"",bu=["fc-event","fc-event-skin","fc-event-vert"];aJ(bt)&&bu.push("fc-event-draggable");bq.isStart&&bu.push("fc-corner-top");bq.isEnd&&bu.push("fc-corner-bottom");bu=bu.concat(bt.className);if(bt.source){bu=bu.concat(bt.source.className||[])}bp+=bs?"a href='"+C(bt.url)+"'":"div";bp+=" class='"+bu.join(" ")+"' style='position:absolute;z-index:8;top:"+bq.top+"px;left:"+bq.left+"px;"+br+"'><div class='fc-event-inner fc-event-skin'"+bo+"><div class='fc-event-head fc-event-skin'"+bo+"><div class='fc-event-time'>"+C(aI(bt.start,bt.end,a7("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+C(bt.title)+"</div></div><div class='fc-event-bg'></div></div>";if(bq.isEnd&&aY(bt)){bp+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"}bp+="</"+(bs?"a":"div")+">";return bp}function bf(bq,bp,bo){aJ(bq)&&a6(bq,bp,bo.isStart);bo.isEnd&&aY(bq)&&bl(bq,bp,bo);aX(bq,bp)}function a9(br,bp,bo){var bq=bp.find("div.fc-event-time");aJ(br)&&aN(br,bp,bq);bo.isEnd&&aY(br)&&aO(br,bp,bq);aX(br,bp)}function a6(br,bA,bx){function bz(){if(!bv){bA.width(bp).height("").draggable("option","grid",null);bv=true}}var bp,bw,bv=true,bu,bo=a7("isRTL")?-1:1,bq=aL(),by=aS(),bt=aM(),bs=ab();bA.draggable({zIndex:9,opacity:a7("dragOpacity","month"),revertDuration:a7("dragRevertDuration"),start:function(bC,bB){a4("eventDragStart",bA,br,bC,bB);bg(br,bA);bp=bA.width();bq.start(function(bE,bG,bD,bF){aW();if(bE){bw=false;bu=bF*bo;if(bE.row){if(bx){if(bv){bA.width(by-10);v(bA,bt*Math.round((br.end?(br.end-br.start)/p:a7("defaultEventMinutes"))/a7("slotMinutes")));bA.draggable("option","grid",[by,1]);bv=false}}else{bw=true}}else{aU(S(T(br.start),bu),S(ai(br),bu));bz()}bw=bw||bv&&!bu}else{bz();bw=true}bA.draggable("option","revert",bw)},bC,"drag")},stop:function(bD,bB){bq.stop();aW();a4("eventDragStop",bA,br,bD,bB);if(bw){bz();bA.css("filter","");aR(br,bA)}else{var bC=0;bv||(bC=Math.round((bA.offset().top-ac().offset().top)/bt)*a7("slotMinutes")+bs-(br.start.getHours()*60+br.start.getMinutes()));aV(this,br,bu,bC,bv,bD,bB)}}})}function aN(br,bC,bz){function bB(bE){var bF=c(T(br.start),bE),bD;if(br.end){bD=c(T(br.end),bE)}bz.text(aI(bF,bD,a7("timeFormat")))}function bp(){if(bw){bz.css("display","");bC.draggable("option","grid",[bv,by]);bw=false}}var bx,bw=false,bu,bo,bq,bA=a7("isRTL")?-1:1,bt=aL(),bs=a5(),bv=aS(),by=aM();bC.draggable({zIndex:9,scroll:false,grid:[bv,by],axis:bs==1?"y":false,opacity:a7("dragOpacity"),revertDuration:a7("dragRevertDuration"),start:function(bD,bE){a4("eventDragStart",bC,br,bD,bE);bg(br,bC);bx=bC.position();bo=bq=0;bt.start(function(bF,bG,bI,bH){bC.draggable("option","revert",!bF);aW();if(bF){bu=bH*bA;if(a7("allDaySlot")&&!bF.row){if(!bw){bw=true;bz.hide();bC.draggable("option","grid",null)}aU(S(T(br.start),bu),S(ai(br),bu))}else{bp()}}},bD,"drag")},drag:function(bD,bE){bo=Math.round((bE.position.top-bx.top)/by)*a7("slotMinutes");if(bo!=bq){bw||bB(bo);bq=bo}},stop:function(bE,bF){var bD=bt.stop();aW();a4("eventDragStop",bC,br,bE,bF);if(bD&&(bu||bo||bw)){aV(this,br,bu,bw?0:bo,bw,bE,bF)}else{bp();bC.css("filter","");bC.css(bx);bB(0);aR(br,bC)}}})}function aO(bt,bq,bp){var bs,br,bo=aM();bq.resizable({handles:{s:"div.ui-resizable-s"},grid:bo,start:function(bv,bu){bs=br=0;bg(bt,bq);bq.css("z-index",9);a4("eventResizeStart",this,bt,bv,bu)},resize:function(bv,bu){bs=Math.round((Math.max(bo,bq.height())-bu.originalSize.height)/bo);if(bs!=br){bp.text(aI(bt.start,!bs&&!bt.end?null:c(a8(bt),a7("slotMinutes")*bs),a7("timeFormat")));br=bs}},stop:function(bv,bu){a4("eventResizeStop",this,bt,bv,bu);if(bs){aP(this,bt,0,a7("slotMinutes")*bs,bv,bu)}else{bq.css("z-index",8);aR(bt,bq)}}})}var bb=this;bb.renderEvents=bn;bb.compileDaySegs=bj;bb.clearEvents=bm;bb.slotSegHtml=be;bb.bindDaySeg=bf;B.call(bb);var a7=bb.opt,a4=bb.trigger,aJ=bb.isEventDraggable,aY=bb.isEventResizable,a8=bb.eventEnd,a1=bb.reportEvents,m=bb.reportEventClear,aX=bb.eventElementHandlers,aZ=bb.setHeight,ba=bb.getDaySegmentContainer,a0=bb.getSlotSegmentContainer,aL=bb.getHoverListener,a3=bb.getMaxMinute,ab=bb.getMinMinute,aK=bb.timePosition,aT=bb.colContentLeft,bc=bb.colContentRight,aQ=bb.renderDaySegs,bl=bb.resizableDayEvent,a5=bb.getColCnt,aS=bb.getColWidth,aM=bb.getSlotHeight,ac=bb.getBodyContent,a2=bb.reportEventElement,aR=bb.showEvents,bg=bb.hideEvents,aV=bb.eventDrop,aP=bb.eventResize,aU=bb.renderDayOverlay,aW=bb.clearOverlays,bd=bb.calendar,N=bd.formatDate,aI=bd.formatDates}function A(ab){var m,aJ,aK,aI,ac,N;for(m=ab.length-1;m>0;m--){aI=ab[m];for(aJ=0;aJ<aI.length;aJ++){ac=aI[aJ];for(aK=0;aK<ab[m-1].length;aK++){N=ab[m-1][aK];if(W(ac,N)){N.forward=Math.max(N.forward||0,(ac.forward||0)+1)}}}}}function y(a3,a2,a0){function a1(a6,a7){a6=aN[a6];if(typeof a6=="object"){return u(a6,a7||a0)}return a6}function aZ(a6,a7){return a2.trigger.apply(a2,[a6,a7||a4].concat(Array.prototype.slice.call(arguments,2),[a4]))}function aY(a6){return aW(a6)&&!a1("disableDragging")}function aU(a6){return aW(a6)&&!a1("disableResizing")}function aW(a6){return aw(a6.editable,(a6.source||{}).editable,a1("editable"))}function aQ(a7){ac={};var a8,a6=a7.length,a9;for(a8=0;a8<a6;a8++){a9=a7[a8];if(ac[a9._id]){ac[a9._id].push(a9)}else{ac[a9._id]=[a9]}}}function aO(a6){return a6.end?T(a6.end):m(a6)}function aI(a6,a7){aS.push(a7);if(aL[a6._id]){aL[a6._id].push(a7)}else{aL[a6._id]=[a7]}}function aJ(){aS=[];aL={}}function aR(a6,a7){a7.click(function(a8){if(!a7.hasClass("ui-draggable-dragging")&&!a7.hasClass("ui-resizable-resizing")){return aZ("eventClick",this,a6,a8)}}).hover(function(a8){aZ("eventMouseover",this,a6,a8)},function(a8){aZ("eventMouseout",this,a6,a8)})}function aP(a6,a7){aM(a6,a7,"show")}function aT(a6,a7){aM(a6,a7,"hide")}function aM(a7,a8,a6){a7=aL[a7._id];var ba,a9=a7.length;for(ba=0;ba<a9;ba++){if(!a8||a7[ba][0]!=a8[0]){a7[ba][a6]()}}}function a5(be,a6,bc,ba,bb,bd,a8){var a7=a6.allDay,a9=a6._id;ab(ac[a9],bc,ba,bb);aZ("eventDrop",be,a6,bc,ba,bb,function(){ab(ac[a9],-bc,-ba,a7);N(a9)},bd,a8);N(a9)}function aV(a9,ba,a6,bc,bb,a8){var a7=ba._id;aK(ac[a7],a6,bc);aZ("eventResize",a9,ba,a6,bc,function(){aK(ac[a7],-a6,-bc);N(a7)},bb,a8);N(a7)}function ab(a9,ba,a6,bc){a6=a6||0;for(var bb,a8=a9.length,a7=0;a7<a8;a7++){bb=a9[a7];if(bc!==L){bb.allDay=bc}c(S(bb.start,ba,true),a6);if(bb.end){bb.end=c(S(bb.end,ba,true),a6)}aX(bb,aN)}}function aK(a8,a9,a6){a6=a6||0;for(var bb,ba=a8.length,a7=0;a7<ba;a7++){bb=a8[a7];bb.end=c(S(aO(bb),a9,true),a6);aX(bb,aN)}}var a4=this;a4.element=a3;a4.calendar=a2;a4.name=a0;a4.opt=a1;a4.trigger=aZ;a4.isEventDraggable=aY;a4.isEventResizable=aU;a4.reportEvents=aQ;a4.eventEnd=aO;a4.reportEventElement=aI;a4.reportEventClear=aJ;a4.eventElementHandlers=aR;a4.showEvents=aP;a4.hideEvents=aT;a4.eventDrop=a5;a4.eventResize=aV;var m=a4.defaultEventEnd,aX=a2.normalizeEvent,N=a2.reportEventChange,ac={},aS=[],aL={},aN=a2.options}function B(){function bf(bm,bg){var bn=aZ(),bq=aU(),bh=aJ(),bk=0,bi,bl,bj=bm.length,bp,bo;bn[0].innerHTML=bb(bm);bc(bm,bn.children());ba(bm);a9(bm,bn,bg);a7(bm);a8(bm);a3(bm);bg=a0();for(bn=0;bn<bq;bn++){bi=[];for(bl=0;bl<bh;bl++){bi[bl]=0}for(;bk<bj&&(bp=bm[bk]).row==bn;){bl=aq(bi.slice(bp.startCol,bp.endCol));bp.top=bl;bl+=bp.outerHeight;for(bo=bp.startCol;bo<bp.endCol;bo++){bi[bo]=bl}bk++}bg[bn].height(aq(bi))}aM(bm,aL(bg))}function be(bg,bk,bi){var bh=E("<div/>"),bm=aZ(),bl=bg.length,bj;bh[0].innerHTML=bb(bg);bh=bh.children();bm.append(bh);bc(bg,bh);a7(bg);a8(bg);a3(bg);aM(bg,aL(a0()));bh=[];for(bm=0;bm<bl;bm++){if(bj=bg[bm].element){bg[bm].row===bk&&bj.css("top",bi);bh.push(bj[0])}}return E(bh)}function bb(bo){var bh=aY("isRTL"),bp,bv=bo.length,bi,bl,bj,bm;bp=N();var bk=bp.left,bu=bp.right,bs,bt,bg,br,bq,bn="";for(bp=0;bp<bv;bp++){bi=bo[bp];bl=bi.event;bm=["fc-event","fc-event-skin","fc-event-hori"];aS(bl)&&bm.push("fc-event-draggable");if(bh){bi.isStart&&bm.push("fc-corner-right");bi.isEnd&&bm.push("fc-corner-left");bs=a6(bi.end.getDay()-1);bt=a6(bi.start.getDay());bg=bi.isEnd?aI(bs):bk;br=bi.isStart?aQ(bt):bu}else{bi.isStart&&bm.push("fc-corner-left");bi.isEnd&&bm.push("fc-corner-right");bs=a6(bi.start.getDay());bt=a6(bi.end.getDay()-1);bg=bi.isStart?aI(bs):bk;br=bi.isEnd?aQ(bt):bu}bm=bm.concat(bl.className);if(bl.source){bm=bm.concat(bl.source.className||[])}bj=bl.url;bq=K(bl,aY);bn+=bj?"<a href='"+C(bj)+"'":"<div";bn+=" class='"+bm.join(" ")+"' style='position:absolute;z-index:8;left:"+bg+"px;"+bq+"'><div class='fc-event-inner fc-event-skin'"+(bq?" style='"+bq+"'":"")+">";if(!bl.allDay&&bi.isStart){bn+="<span class='fc-event-time'>"+C(aK(bl.start,bl.end,aY("timeFormat")))+"</span>"}bn+="<span class='fc-event-title'>"+C(bl.title)+"</span></div>";if(bi.isEnd&&a2(bl)){bn+="<div class='ui-resizable-handle ui-resizable-"+(bh?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"}bn+="</"+(bj?"a":"div")+">";bi.left=bg;bi.outerWidth=br-bg;bi.startCol=bs;bi.endCol=bt+1}return bn}function bc(bg,bk){var bi,bh=bg.length,bm,bl,bj;for(bi=0;bi<bh;bi++){bm=bg[bi];bl=bm.event;bj=E(bk[bi]);bl=ac("eventRender",bl,bl,bj);if(bl===false){bj.remove()}else{if(bl&&bl!==true){bl=E(bl).css({position:"absolute",left:bm.left});bj.replaceWith(bl);bj=bl}bm.element=bj}}}function ba(bg){var bj,bi=bg.length,bh,bk;for(bj=0;bj<bi;bj++){bh=bg[bj];(bk=bh.element)&&m(bh.event,bk)}}function a9(bh,bl,bj){var bi,bn=bh.length,bm,bk,bg;for(bi=0;bi<bn;bi++){bm=bh[bi];if(bk=bm.element){bg=bm.event;if(bg._id===bj){aP(bg,bk,bm)}else{bk[0]._fci=bi}}}H(bl,bh,aP)}function a7(bh){var bl,bj=bh.length,bi,bn,bm,bk,bg={};for(bl=0;bl<bj;bl++){bi=bh[bl];if(bn=bi.element){bm=bi.key=aa(bn[0]);bk=bg[bm];if(bk===L){bk=bg[bm]=x(bn,true)}bi.hsides=bk}}}function a8(bg){var bj,bi=bg.length,bh,bk;for(bj=0;bj<bi;bj++){bh=bg[bj];if(bk=bh.element){bk[0].style.width=Math.max(0,bh.outerWidth-bh.hsides)+"px"}}}function a3(bh){var bl,bj=bh.length,bi,bn,bm,bk,bg={};for(bl=0;bl<bj;bl++){bi=bh[bl];if(bn=bi.element){bm=bi.key;bk=bg[bm];if(bk===L){bk=bg[bm]=j(bn)}bi.outerHeight=bn[0].offsetHeight+bk}}}function a0(){var bg,bi=aU(),bh=[];for(bg=0;bg<bi;bg++){bh[bg]=aX(bg).find("td:first div.fc-day-content > div")}return bh}function aL(bg){var bj,bi=bg.length,bh=[];for(bj=0;bj<bi;bj++){bh[bj]=bg[bj][0].offsetTop}return bh}function aM(bg,bj){var bi,bh=bg.length,bl,bk;for(bi=0;bi<bh;bi++){bl=bg[bi];if(bk=bl.element){bk[0].style.top=bj[bl.row]+(bl.top||0)+"px";bl=bl.event;ac("eventAfterRender",bl,bl,bk)}}}function a5(bg,bk,bi){var bh=aY("isRTL"),bm=bh?"w":"e",bl=bk.find("div.ui-resizable-"+bm),bj=false;n(bk);bk.mousedown(function(bn){bn.preventDefault()}).click(function(bn){if(bj){bn.preventDefault();bn.stopImmediatePropagation()}});bl.mousedown(function(br){function bq(bz){ac("eventResizeStop",this,bg,bz);E("body").css("cursor","");by.stop();aW();bs&&a4(this,bg,bs,0,bz);setTimeout(function(){bj=false},0)}if(br.which==1){bj=true;var by=a1.getHoverListener(),bv=aU(),bx=aJ(),bo=bh?-1:1,bu=bh?bx-1:0,bt=bk.css("top"),bs,bn,bp=E.extend({},bg),bw=aN(bg.start);aO();E("body").css("cursor",bm+"-resize").one("mouseup",bq);ac("eventResizeStart",this,bg,br);by.start(function(bz,bB){if(bz){var bA=Math.max(bw.row,bz.row);bz=bz.col;if(bv==1){bA=0}if(bA==bw.row){bz=bh?Math.min(bw.col,bz):Math.max(bw.col,bz)}bs=bA*7+bz*bo+bu-(bB.row*7+bB.col*bo+bu);bB=S(aV(bg),bs,true);if(bs){bp.end=bB;bA=bn;bn=be(bd([bp]),bi.row,bt);bn.find("*").css("cursor",bm+"-resize");bA&&bA.remove();aT(bg)}else{if(bn){aR(bg);bn.remove();bn=null}}aW();ab(bg.start,S(T(bB),1))}},br)}})}var a1=this;a1.renderDaySegs=bf;a1.resizableDayEvent=a5;var aY=a1.opt,ac=a1.trigger,aS=a1.isEventDraggable,a2=a1.isEventResizable,aV=a1.eventEnd,m=a1.reportEventElement,aR=a1.showEvents,aT=a1.hideEvents,a4=a1.eventResize,aU=a1.getRowCnt,aJ=a1.getColCnt,aX=a1.allDayRow,N=a1.allDayBounds,aI=a1.colContentLeft,aQ=a1.colContentRight,a6=a1.dayOfWeekCol,aN=a1.dateCell,bd=a1.compileDaySegs,aZ=a1.getDaySegmentContainer,aP=a1.bindDaySeg,aK=a1.calendar.formatDates,ab=a1.renderDayOverlay,aW=a1.clearOverlays,aO=a1.clearSelection}function aH(){function aN(aQ,aR,aP){aM();aR||(aR=ab(aQ,aP));aO(aQ,aR,aP);aJ(aQ,aR,aP)}function aM(aP){if(N){N=false;aL();m("unselect",null,aP)}}function aJ(aQ,aS,aP,aR){N=true;m("select",null,aQ,aS,aP,aR)}function aK(aR){var aT=aI.cellDate,aQ=aI.cellIsAllDay,aS=aI.getHoverListener(),aP=aI.reportDayClick;if(aR.which==1&&ac("selectable")){aM(aR);var aU;aS.start(function(aW,aV){aL();if(aW&&aQ(aW)){aU=[aT(aV),aT(aW)].sort(aE);aO(aU[0],aU[1],true)}else{aU=null}},aR);E(document).one("mouseup",function(aV){aS.stop();if(aU){+aU[0]==+aU[1]&&aP(aU[0],true,aV);aJ(aU[0],aU[1],true,aV)}})}}var aI=this;aI.select=aN;aI.unselect=aM;aI.reportSelection=aJ;aI.daySelectionMousedown=aK;var ac=aI.opt,m=aI.trigger,ab=aI.defaultSelectionEnd,aO=aI.renderSelection,aL=aI.clearSelection,N=false;ac("selectable")&&ac("unselectAuto")&&E(document).mousedown(function(aP){var aQ=ac("unselectCancel");if(aQ){if(E(aP.target).parents(aQ).length){return}}aM(aP)})}function o(){function N(aL,aJ){var aK=ab.shift();aK||(aK=E("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));aK[0].parentNode!=aJ[0]&&aK.appendTo(aJ);aI.push(aK.css(aL).show());return aK}function m(){for(var aJ;aJ=aI.shift();){ab.push(aJ.hide().unbind())}}var ac=this;ac.renderOverlay=N;ac.clearOverlays=m;var aI=[],ab=[]}function au(N){var m=this,ab,ac;m.build=function(){ab=[];ac=[];N(ab,ac)};m.cell=function(aN,aM){var aI=ab.length,aJ=ac.length,aL,aO=-1,aK=-1;for(aL=0;aL<aI;aL++){if(aM>=ab[aL][0]&&aM<ab[aL][1]){aO=aL;break}}for(aL=0;aL<aJ;aL++){if(aN>=ac[aL][0]&&aN<ac[aL][1]){aK=aL;break}}return aO>=0&&aK>=0?{row:aO,col:aK}:null};m.rect=function(aM,aL,aI,aJ,aK){aK=aK.offset();return{top:ab[aM][0]-aK.top,left:ac[aL][0]-aK.left,width:ac[aJ][1]-ac[aL][0],height:ab[aI][1]-ab[aM][0]}}}function af(ab){function m(aL){aL=ab.cell(aL.pageX,aL.pageY);if(!aL!=!N||aL&&(aL.row!=N.row||aL.col!=N.col)){if(aL){ac||(ac=aL);aI(aL,ac,aL.row-ac.row,aL.col-ac.col)}else{aI(aL,ac)}N=aL}}var aJ=this,aK,aI,ac,N;aJ.start=function(aL,aM,aN){aI=aL;ac=N=null;ab.build();m(aM);aK=aN||"mousemove";E(document).bind(aK,m)};aJ.stop=function(){E(document).unbind(aK,m);return N}}function O(N){function m(aK){return aJ[aK]=aJ[aK]||N(aK)}var aI=this,aJ={},ac={},ab={};aI.left=function(aK){return ac[aK]=ac[aK]===L?m(aK).position().left:ac[aK]};aI.right=function(aK){return ab[aK]=ab[aK]===L?aI.left(aK)+m(aK).width():ab[aK]};aI.clear=function(){aJ={};ac={};ab={}}}var f={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},a={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},aB=E.fullCalendar={version:"1.5.2"},M=aB.views={};E.fn.fullCalendar=function(N){if(typeof N=="string"){var m=Array.prototype.slice.call(arguments,1),ab;this.each(function(){var aI=E.data(this,"fullCalendar");if(aI&&E.isFunction(aI[N])){aI=aI[N].apply(aI,m);if(ab===L){ab=aI}N=="destroy"&&E.removeData(this,"fullCalendar")}});if(ab!==L){return ab}return this}var ac=N.eventSources||[];delete N.eventSources;if(N.events){ac.push(N.events);delete N.events}N=E.extend(true,{},f,N.isRTL||N.isRTL===L&&f.isRTL?a:{},N);this.each(function(aJ,aI){aJ=E(aI);aI=new e(aJ,N,ac);aJ.data("fullCalendar",aI);aI.render()});return this};aB.sourceNormalizers=[];aB.sourceFetchers=[];var aj={dataType:"json",cache:false},R=1;aB.addDays=S;aB.cloneDate=T;aB.parseDate=i;aB.parseISO8601=an;aB.parseTime=ap;aB.formatDate=ag;aB.formatDates=G;var aC=["sun","mon","tue","wed","thu","fri","sat"],aA=86400000,D=3600000,p=60000,s={s:function(m){return m.getSeconds()},ss:function(m){return P(m.getSeconds())},m:function(m){return m.getMinutes()},mm:function(m){return P(m.getMinutes())},h:function(m){return m.getHours()%12||12},hh:function(m){return P(m.getHours()%12||12)},H:function(m){return m.getHours()},HH:function(m){return P(m.getHours())},d:function(m){return m.getDate()},dd:function(m){return P(m.getDate())},ddd:function(N,m){return m.dayNamesShort[N.getDay()]},dddd:function(N,m){return m.dayNames[N.getDay()]},M:function(m){return m.getMonth()+1},MM:function(m){return P(m.getMonth()+1)},MMM:function(N,m){return m.monthNamesShort[N.getMonth()]},MMMM:function(N,m){return m.monthNames[N.getMonth()]},yy:function(m){return(m.getFullYear()+"").substring(2)},yyyy:function(m){return m.getFullYear()},t:function(m){return m.getHours()<12?"a":"p"},tt:function(m){return m.getHours()<12?"am":"pm"},T:function(m){return m.getHours()<12?"A":"P"},TT:function(m){return m.getHours()<12?"AM":"PM"},u:function(m){return ag(m,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(m){m=m.getDate();if(m>10&&m<20){return"th"}return["st","nd","rd"][m%10-1]||"th"}};aB.applyAll=ae;M.month=ao;M.basicWeek=Y;M.basicDay=I;q({weekMode:"fixed"});M.agendaWeek=l;M.agendaDay=aF;q({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24})})(jQuery);
(function(aG){var ay,aq,ap,aD,aj,aA,ai,ax,am,al,au=0,aE={},aw=[],av=0,aF={},az=[],ag=null,ao=new Image,ae=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,k=/[^\.]\.(swf)\s*$/i,ad,ac=1,an=0,ar="",at,aB,aC=false,ak=aG.extend(aG("<div/>")[0],{prop:0}),ab=aG.browser.msie&&aG.browser.version<7&&!window.XMLHttpRequest,aa=function(){aq.hide();ao.onerror=ao.onload=null;ag&&ag.abort();ay.empty()},R=function(){if(false===aE.onError(aw,au,aE)){aq.hide();aC=false}else{aE.titleShow=false;aE.width="auto";aE.height="auto";ay.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>');ah()}},af=function(){var d=aw[au],j,f,e,i,h,b;aa();aE=aG.extend({},aG.fn.fancybox.defaults,typeof aG(d).data("fancybox")=="undefined"?aE:aG(d).data("fancybox"));b=aE.onStart(aw,au,aE);if(b===false){aC=false}else{if(typeof b=="object"){aE=aG.extend(aE,b)}e=aE.title||(d.nodeName?aG(d).attr("title"):d.title)||"";if(d.nodeName&&!aE.orig){aE.orig=aG(d).children("img:first").length?aG(d).children("img:first"):aG(d)}if(e===""&&aE.orig&&aE.titleFromAlt){e=aE.orig.attr("alt")}j=aE.href||(d.nodeName?aG(d).attr("href"):d.href)||null;if(/^(?:javascript)/i.test(j)||j=="#"){j=null}if(aE.type){f=aE.type;if(!j){j=aE.content}}else{if(aE.content){f="html"}else{if(j){f=j.match(ae)?"image":j.match(k)?"swf":aG(d).hasClass("iframe")?"iframe":j.indexOf("#")===0?"inline":"ajax"}}}if(f){if(f=="inline"){d=j.substr(j.indexOf("#"));f=aG(d).length>0?"inline":"ajax"}aE.type=f;aE.href=j;aE.title=e;if(aE.autoDimensions){if(aE.type=="html"||aE.type=="inline"||aE.type=="ajax"){aE.width="auto";aE.height="auto"}else{aE.autoDimensions=false}}if(aE.modal){aE.overlayShow=true;aE.hideOnOverlayClick=false;aE.hideOnContentClick=false;aE.enableEscapeButton=false;aE.showCloseButton=false}aE.padding=parseInt(aE.padding,10);aE.margin=parseInt(aE.margin,10);ay.css("padding",aE.padding+aE.margin);aG(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){aG(this).replaceWith(aA.children())});switch(f){case"html":ay.html(aE.content);ah();break;case"inline":if(aG(d).parent().is("#fancybox-content")===true){aC=false;break}aG('<div class="fancybox-inline-tmp" />').hide().insertBefore(aG(d)).bind("fancybox-cleanup",function(){aG(this).replaceWith(aA.children())}).bind("fancybox-cancel",function(){aG(this).replaceWith(ay.children())});aG(d).appendTo(ay);ah();break;case"image":aC=false;aG.fancybox.showActivity();ao=new Image;ao.onerror=function(){R()};ao.onload=function(){aC=true;ao.onerror=ao.onload=null;aE.width=ao.width;aE.height=ao.height;aG("<img />").attr({id:"fancybox-img",src:ao.src,alt:aE.title}).appendTo(ay);P()};ao.src=j;break;case"swf":aE.scrolling="no";i='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+aE.width+'" height="'+aE.height+'"><param name="movie" value="'+j+'"></param>';h="";aG.each(aE.swf,function(l,m){i+='<param name="'+l+'" value="'+m+'"></param>';h+=" "+l+'="'+m+'"'});i+='<embed src="'+j+'" type="application/x-shockwave-flash" width="'+aE.width+'" height="'+aE.height+'"'+h+"></embed></object>";ay.html(i);ah();break;case"ajax":aC=false;aG.fancybox.showActivity();aE.ajax.win=aE.ajax.success;ag=aG.ajax(aG.extend({},aE.ajax,{url:j,data:aE.ajax.data||{},error:function(l){l.status>0&&R()},success:function(l,m,n){if((typeof n=="object"?n:ag).status==200){if(typeof aE.ajax.win=="function"){b=aE.ajax.win(j,l,m,n);if(b===false){aq.hide();return}else{if(typeof b=="string"||typeof b=="object"){l=b}}}ay.html(l);ah()}}}));break;case"iframe":P()}}else{R()}}},ah=function(){var b=aE.width,d=aE.height;b=b.toString().indexOf("%")>-1?parseInt((aG(window).width()-aE.margin*2)*parseFloat(b)/100,10)+"px":b=="auto"?"auto":b+"px";d=d.toString().indexOf("%")>-1?parseInt((aG(window).height()-aE.margin*2)*parseFloat(d)/100,10)+"px":d=="auto"?"auto":d+"px";ay.wrapInner('<div style="width:'+b+";height:"+d+";overflow: "+(aE.scrolling=="auto"?"auto":aE.scrolling=="yes"?"scroll":"hidden")+';position:relative;"></div>');aE.width=ay.width();aE.height=ay.height();P()},P=function(){var b,d;aq.hide();if(aD.is(":visible")&&false===aF.onCleanup(az,av,aF)){aG.event.trigger("fancybox-cancel");aC=false}else{aC=true;aG(aA.add(ap)).unbind();aG(window).unbind("resize.fb scroll.fb");aG(document).unbind("keydown.fb");aD.is(":visible")&&aF.titlePosition!=="outside"&&aD.css("height",aD.height());az=aw;av=au;aF=aE;if(aF.overlayShow){ap.css({"background-color":aF.overlayColor,opacity:aF.overlayOpacity,cursor:aF.hideOnOverlayClick?"pointer":"auto",height:aG(document).height()});if(!ap.is(":visible")){ab&&aG("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"});ap.show()}}else{ap.hide()}aB=g();ar=aF.title||"";an=0;ax.empty().removeAttr("style").removeClass();if(aF.titleShow!==false){if(aG.isFunction(aF.titleFormat)){b=aF.titleFormat(ar,az,av,aF)}else{b=ar&&ar.length?aF.titlePosition=="float"?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+ar+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+aF.titlePosition+'">'+ar+"</div>":false}ar=b;if(!(!ar||ar==="")){ax.addClass("fancybox-title-"+aF.titlePosition).html(ar).appendTo("body").show();switch(aF.titlePosition){case"inside":ax.css({width:aB.width-aF.padding*2,marginLeft:aF.padding,marginRight:aF.padding});an=ax.outerHeight(true);ax.appendTo(aj);aB.height+=an;break;case"over":ax.css({marginLeft:aF.padding,width:aB.width-aF.padding*2,bottom:aF.padding}).appendTo(aj);break;case"float":ax.css("left",parseInt((ax.width()-aB.width-40)/2,10)*-1).appendTo(aD);break;default:ax.css({width:aB.width-aF.padding*2,paddingLeft:aF.padding,paddingRight:aF.padding}).appendTo(aD)}}}ax.hide();if(aD.is(":visible")){aG(ai.add(am).add(al)).hide();b=aD.position();at={top:b.top,left:b.left,width:aD.width(),height:aD.height()};d=at.width==aB.width&&at.height==aB.height;aA.fadeTo(aF.changeFade,0.3,function(){var e=function(){aA.html(ay.contents()).fadeTo(aF.changeFade,1,H)};aG.event.trigger("fancybox-change");aA.empty().removeAttr("filter").css({"border-width":aF.padding,width:aB.width-aF.padding*2,height:aE.autoDimensions?"auto":aB.height-an-aF.padding*2});if(d){e()}else{ak.prop=0;aG(ak).animate({prop:1},{duration:aF.changeSpeed,easing:aF.easingChange,step:C,complete:e})}})}else{aD.removeAttr("style");aA.css("border-width",aF.padding);if(aF.transitionIn=="elastic"){at=w();aA.html(ay.contents());aD.show();if(aF.opacity){aB.opacity=0}ak.prop=0;aG(ak).animate({prop:1},{duration:aF.speedIn,easing:aF.easingIn,step:C,complete:H})}else{aF.titlePosition=="inside"&&an>0&&ax.show();aA.css({width:aB.width-aF.padding*2,height:aE.autoDimensions?"auto":aB.height-an-aF.padding*2}).html(ay.contents());aD.css(aB).fadeIn(aF.transitionIn=="none"?0:aF.speedIn,H)}}}},c=function(){if(aF.enableEscapeButton||aF.enableKeyboardNav){aG(document).bind("keydown.fb",function(b){if(b.keyCode==27&&aF.enableEscapeButton){b.preventDefault();aG.fancybox.close()}else{if((b.keyCode==37||b.keyCode==39)&&aF.enableKeyboardNav&&b.target.tagName!=="INPUT"&&b.target.tagName!=="TEXTAREA"&&b.target.tagName!=="SELECT"){b.preventDefault();aG.fancybox[b.keyCode==37?"prev":"next"]()}}})}if(aF.showNavArrows){if(aF.cyclic&&az.length>1||av!==0){am.show()}if(aF.cyclic&&az.length>1||av!=az.length-1){al.show()}}else{am.hide();al.hide()}},H=function(){if(!aG.support.opacity){aA.get(0).style.removeAttribute("filter");aD.get(0).style.removeAttribute("filter")}aE.autoDimensions&&aA.css("height","auto");aD.css("height","auto");ar&&ar.length&&ax.show();aF.showCloseButton&&ai.show();c();aF.hideOnContentClick&&aA.bind("click",aG.fancybox.close);aF.hideOnOverlayClick&&ap.bind("click",aG.fancybox.close);aG(window).bind("resize.fb",aG.fancybox.resize);aF.centerOnScroll&&aG(window).bind("scroll.fb",aG.fancybox.center);if(aF.type=="iframe"){aG('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(aG.browser.msie?'allowtransparency="true""':"")+' scrolling="'+aE.scrolling+'" src="'+aF.href+'"></iframe>').appendTo(aA)}aD.show();aC=false;aG.fancybox.center();aF.onComplete(az,av,aF);var b,d;if(az.length-1>av){b=az[av+1].href;if(typeof b!=="undefined"&&b.match(ae)){d=new Image;d.src=b}}if(av>0){b=az[av-1].href;if(typeof b!=="undefined"&&b.match(ae)){d=new Image;d.src=b}}},C=function(b){var d={width:parseInt(at.width+(aB.width-at.width)*b,10),height:parseInt(at.height+(aB.height-at.height)*b,10),top:parseInt(at.top+(aB.top-at.top)*b,10),left:parseInt(at.left+(aB.left-at.left)*b,10)};if(typeof aB.opacity!=="undefined"){d.opacity=b<0.5?0.5:b}aD.css(d);aA.css({width:d.width-aF.padding*2,height:d.height-an*b-aF.padding*2})},x=function(){return[aG(window).width()-aF.margin*2,aG(window).height()-aF.margin*2,aG(document).scrollLeft()+aF.margin,aG(document).scrollTop()+aF.margin]},g=function(){var b=x(),f={},e=aF.autoScale,d=aF.padding*2;f.width=aF.width.toString().indexOf("%")>-1?parseInt(b[0]*parseFloat(aF.width)/100,10):aF.width+d;f.height=aF.height.toString().indexOf("%")>-1?parseInt(b[1]*parseFloat(aF.height)/100,10):aF.height+d;if(e&&(f.width>b[0]||f.height>b[1])){if(aE.type=="image"||aE.type=="swf"){e=aF.width/aF.height;if(f.width>b[0]){f.width=b[0];f.height=parseInt((f.width-d)/e+d,10)}if(f.height>b[1]){f.height=b[1];f.width=parseInt((f.height-d)*e+d,10)}}else{f.width=Math.min(f.width,b[0]);f.height=Math.min(f.height,b[1])}}f.top=parseInt(Math.max(b[3]-20,b[3]+(b[1]-f.height-40)*0.5),10);f.left=parseInt(Math.max(b[2]-20,b[2]+(b[0]-f.width-40)*0.5),10);return f},w=function(){var b=aE.orig?aG(aE.orig):false,d={};if(b&&b.length){d=b.offset();d.top+=parseInt(b.css("paddingTop"),10)||0;d.left+=parseInt(b.css("paddingLeft"),10)||0;d.top+=parseInt(b.css("border-top-width"),10)||0;d.left+=parseInt(b.css("border-left-width"),10)||0;d.width=b.width();d.height=b.height();d={width:d.width+aF.padding*2,height:d.height+aF.padding*2,top:d.top-aF.padding-20,left:d.left-aF.padding-20}}else{b=x();d={width:aF.padding*2,height:aF.padding*2,top:parseInt(b[3]+b[1]*0.5,10),left:parseInt(b[2]+b[0]*0.5,10)}}return d},a=function(){if(aq.is(":visible")){aG("div",aq).css("top",ac*-40+"px");ac=(ac+1)%12}else{clearInterval(ad)}};aG.fn.fancybox=function(b){if(!aG(this).length){return this}aG(this).data("fancybox",aG.extend({},b,aG.metadata?aG(this).metadata():{})).unbind("click.fb").bind("click.fb",function(d){d.preventDefault();if(!aC){aC=true;aG(this).blur();aw=[];au=0;d=aG(this).attr("rel")||"";if(!d||d==""||d==="nofollow"){aw.push(this)}else{aw=aG("a[rel="+d+"], area[rel="+d+"]");au=aw.index(this)}af()}});return this};aG.fancybox=function(b,h){var e;if(!aC){aC=true;e=typeof h!=="undefined"?h:{};aw=[];au=parseInt(e.index,10)||0;if(aG.isArray(b)){for(var d=0,f=b.length;d<f;d++){if(typeof b[d]=="object"){aG(b[d]).data("fancybox",aG.extend({},e,b[d]))}else{b[d]=aG({}).data("fancybox",aG.extend({content:b[d]},e))}}aw=jQuery.merge(aw,b)}else{if(typeof b=="object"){aG(b).data("fancybox",aG.extend({},e,b))}else{b=aG({}).data("fancybox",aG.extend({content:b},e))}aw.push(b)}if(au>aw.length||au<0){au=0}af()}};aG.fancybox.showActivity=function(){clearInterval(ad);aq.show();ad=setInterval(a,66)};aG.fancybox.hideActivity=function(){aq.hide()};aG.fancybox.next=function(){return aG.fancybox.pos(av+1)};aG.fancybox.prev=function(){return aG.fancybox.pos(av-1)};aG.fancybox.pos=function(b){if(!aC){b=parseInt(b);aw=az;if(b>-1&&b<az.length){au=b;af()}else{if(aF.cyclic&&az.length>1){au=b>=az.length?0:az.length-1;af()}}}};aG.fancybox.cancel=function(){if(!aC){aC=true;aG.event.trigger("fancybox-cancel");aa();aE.onCancel(aw,au,aE);aC=false}};aG.fancybox.close=function(){function b(){ap.fadeOut("fast");ax.empty().hide();aD.hide();aG.event.trigger("fancybox-cleanup");aA.empty();aF.onClosed(az,av,aF);az=aE=[];av=au=0;aF=aE={};aC=false}if(!(aC||aD.is(":hidden"))){aC=true;if(aF&&false===aF.onCleanup(az,av,aF)){aC=false}else{aa();aG(ai.add(am).add(al)).hide();aG(aA.add(ap)).unbind();aG(window).unbind("resize.fb scroll.fb");aG(document).unbind("keydown.fb");aA.find("iframe").attr("src",ab&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank");aF.titlePosition!=="inside"&&ax.empty();aD.stop();if(aF.transitionOut=="elastic"){at=w();var d=aD.position();aB={top:d.top,left:d.left,width:aD.width(),height:aD.height()};if(aF.opacity){aB.opacity=1}ax.empty().hide();ak.prop=1;aG(ak).animate({prop:0},{duration:aF.speedOut,easing:aF.easingOut,step:C,complete:b})}else{aD.fadeOut(aF.transitionOut=="none"?0:aF.speedOut,b)}}}};aG.fancybox.resize=function(){ap.is(":visible")&&ap.css("height",aG(document).height());aG.fancybox.center(true)};aG.fancybox.center=function(b){var e,d;if(!aC){d=b===true?1:0;e=x();!d&&(aD.width()>e[0]||aD.height()>e[1])||aD.stop().animate({top:parseInt(Math.max(e[3]-20,e[3]+(e[1]-aA.height()-40)*0.5-aF.padding)),left:parseInt(Math.max(e[2]-20,e[2]+(e[0]-aA.width()-40)*0.5-aF.padding))},typeof b=="number"?b:200)}};aG.fancybox.init=function(){if(!aG("#fancybox-wrap").length){aG("body").append(ay=aG('<div id="fancybox-tmp"></div>'),aq=aG('<div id="fancybox-loading"><div></div></div>'),ap=aG('<div id="fancybox-overlay"></div>'),aD=aG('<div id="fancybox-wrap"></div>'));aj=aG('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(aD);aj.append(aA=aG('<div id="fancybox-content"></div>'),ai=aG('<a id="fancybox-close"></a>'),ax=aG('<div id="fancybox-title"></div>'),am=aG('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),al=aG('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>'));ai.click(aG.fancybox.close);aq.click(aG.fancybox.cancel);am.click(function(b){b.preventDefault();aG.fancybox.prev()});al.click(function(b){b.preventDefault();aG.fancybox.next()});aG.fn.mousewheel&&aD.bind("mousewheel.fb",function(b,d){if(aC){b.preventDefault()}else{if(aG(b.target).get(0).clientHeight==0||aG(b.target).get(0).scrollHeight===aG(b.target).get(0).clientHeight){b.preventDefault();aG.fancybox[d>0?"prev":"next"]()}}});aG.support.opacity||aD.addClass("fancybox-ie");if(ab){aq.addClass("fancybox-ie6");aD.addClass("fancybox-ie6");aG('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(aj)}}};aG.fn.fancybox.defaults={padding:10,margin:40,opacity:false,modal:false,cyclic:false,scrolling:"auto",width:560,height:340,autoScale:true,autoDimensions:true,centerOnScroll:false,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:true,hideOnContentClick:false,overlayShow:true,overlayOpacity:0.7,overlayColor:"#777",titleShow:true,titlePosition:"float",titleFormat:null,titleFromAlt:false,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:true,showNavArrows:true,enableEscapeButton:true,enableKeyboardNav:true,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};aG(document).ready(function(){aG.fancybox.init()})})(jQuery);
$(function(){var f="prod";var h="http://studiotagarin.fr/";var g=null;if(f=="dev"){g=h+"app_dev.php/"}else{if(f=="preprod"){g=h+"app.php/"}else{g=h}}$("#slider").nivoSlider({effect:"random",pauseOnHover:false,prevText:"Prcdent",nextText:"Suivant",randomStart:true});$("a.fancy_grouped_elements").fancybox();var j=h+"bundles/jblstudio/images/gmap/sun.png";var c=h+"bundles/jblstudio/images/gmap/city.png";var e=new google.maps.LatLng(48.623509,-2.830755);var b=[{lat:48.622711,lng:-2.822349,icon:j,title:"Plage des Godelins (800m)",description:"La plage la plus proche du Studio. Vous pouvez y tre en quelques minutes  pied."},{lat:48.636397,lng:-2.827306,icon:j,title:"Plage des Moulins (2km)",description:"L'autre plage d'Etables-Sur-Mer avec ses restaurants au bord du sable."},{lat:48.601403,lng:-2.824473,icon:c,title:"Binic (3km)",description:"Vous y trouverez de nombreux restaurants."},{lat:48.655147,lng:-2.837214,icon:c,title:"Saint-Quay-Portrieux (3km)",description:"Avec son casino et ses nombreuses plages."},{lat:48.627335,lng:-2.834988,icon:c,title:"Etables-Sur-Mer (700m)",description:"Le centre est  quelques minutes du studio."}];$("#googlemap").gmap3({action:"init",options:{streetViewControl:false,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU}}},{action:"addMarker",latLng:[48.623509,-2.830755],map:{center:true,zoom:13},marker:{options:{icon:h+"bundles/jblstudio/images/gmap/home.png"}},infowindow:{options:{content:"Le Studio Tagarin"}}});$("#googlelist").first("tr").click(function(){$("#googlemap").gmap3({action:"panTo",args:[e]})});$.each(b,function(l,k){d($("#googlemap"),k);i($("#googlemap"),$("#googlelist"),k)});function d(l,k){l.gmap3(({action:"addMarker",latLng:[k.lat,k.lng],marker:{options:{icon:k.icon},events:{click:function(m,n,o){a(this,m.getPosition().lat(),m.getPosition().lng())}}}}))}function a(l,m,k){l.gmap3({action:"clear",name:"directionrenderer"},{action:"getRoute",options:{origin:"48.623509,-2.830755",destination:m+", "+k,travelMode:google.maps.DirectionsTravelMode.DRIVING},callback:function(n){if(!n){return}$(this).gmap3({action:"addDirectionsRenderer",options:{markerOptions:{visible:false},preserveViewport:true,draggable:false,directions:n}})}})}function i(m,l,k){jQuery("<tr>",{html:'<td><img src="'+k.icon+'" alt="'+k.title+'" /></td><td><p class="title">'+k.title+'<p><p class="description">'+k.description+"</p></td>",click:function(){a(m,k.lat,k.lng)}}).appendTo(l)}$("#calendar").fullCalendar({editable:false,height:400,firstDay:6,events:{url:g+"week/jsonlist"}})});